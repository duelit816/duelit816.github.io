{"version":3,"sources":["./src/app/core/constants/chart-name.enum.ts","./src/app/core/constants/converted-type.enum.ts","./src/app/core/constants/index.ts","./src/app/core/constants/transaction-type.enum.ts","./src/app/core/constants/user-role.enum.ts","./src/app/core/constants/user-status.enum.ts","./src/app/shared/components/date-picker-range/date-picker-range.component.ts","./src/app/shared/components/date-picker-range/date-picker-range.component.html","./src/app/shared/components/date-picker-range/date-picker-range.module.ts","./src/app/shared/functions/date.util.ts"],"names":[],"mappings":"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","file":"default~pages-dashboard-dashboard-module~pages-users-users-module-es2015.js","sourcesContent":["export enum ChartName {\r\n  SignupCount = 'signupCount',\r\n  ActivatedSignupCount = 'activatedSignupCount',\r\n  PurchasedCount = 'purchasedCount',\r\n  RedeemCount = 'redeemCount'\r\n}\r\n","export enum ConvertedType {\r\n  Converted = 'converted',\r\n  Churned = 'churned',\r\n}\r\n\r\nexport function isConvertedTypeValid(type: string) {\r\n  return Object.keys(ConvertedType).findIndex(key => {\r\n    return ConvertedType[key] === type;\r\n  }) >= 0;\r\n}\r\n","export * from './user-role.enum';\r\nexport * from './user-status.enum';\r\nexport * from './transaction-type.enum';\r\nexport * from './chart-name.enum';\r\nexport * from './converted-type.enum';\r\n\r\nexport const CASHOUT_REQUEST_AMOUNT = 'cashout-request-amount';\r\nexport const DATE_FORMAT = 'YYYY-MM-DD';\r\nexport const FAILED_TO_RETRIEVE = '-';\r\n","export enum TransactionType {\r\n  Add = 'add',\r\n  AdminCredits = 'adminCredits',\r\n  Transaction = 'transaction',\r\n  RedeemCoinsRequest = 'redeemCoinsRequest'\r\n}\r\n\r\nexport function isTransactionTypeValid(type: string) {\r\n  return Object.keys(TransactionType).findIndex(key => {\r\n    return TransactionType[key] === type;\r\n  }) >= 0;\r\n}\r\n","export enum UserRole {\r\n  Admin = 'admin',\r\n  Developer = 'dev',\r\n  Player = 'player'\r\n}\r\n","export enum UserStatus {\r\n  Active = 'active',\r\n  Inactive = 'inactive',\r\n  Banned = 'banned',\r\n  Deactived = 'deactivated',\r\n  Pending = 'pending'\r\n}\r\n","import { AfterViewInit, Component, forwardRef, OnInit } from '@angular/core';\r\nimport { ControlValueAccessor, FormControl, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { faCalendarAlt } from '@fortawesome/free-regular-svg-icons';\r\nimport { NgbCalendar, NgbDate, NgbDateParserFormatter } from '@ng-bootstrap/ng-bootstrap';\r\nimport { momentToNgbDate, ngbDateToMoment } from '@shared/functions/date.util';\r\nimport * as moment from 'moment';\r\n\r\nimport { DatePickerRangeModel } from './date-picker-range.model';\r\n\r\nconst CUSTOM_DATE = -1;\r\nconst ALL_TIME = -2;\r\n\r\ntype Presets = 'week' | 'month' | 'quarter' | 'year';\r\n\r\n@Component({\r\n  selector: 'duelit-date-picker-range',\r\n  templateUrl: './date-picker-range.component.html',\r\n  styleUrls: ['./date-picker-range.component.scss'],\r\n  providers: [{\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => DatePickerRangeComponent),\r\n    multi: true\r\n  }]\r\n})\r\nexport class DatePickerRangeComponent implements OnInit, ControlValueAccessor, AfterViewInit {\r\n  readonly allTimeMinDate = momentToNgbDate( moment('2010-01-01') );\r\n  readonly preSelectedDates: {\r\n    label: string,\r\n    value: number | Presets,\r\n    hidden?: boolean\r\n  }[] = [{\r\n    label: 'Today',\r\n    value: 0\r\n  }, {\r\n    label: 'This week',\r\n    value: 'week'\r\n  }, {\r\n    label: 'This month',\r\n    value: 'month'\r\n  }, {\r\n    label: 'This quarter',\r\n    value: 'quarter'\r\n  }, {\r\n    label: 'This year',\r\n    value: 'year'\r\n  }, {\r\n    label: '2 days ago',\r\n    value: 1\r\n  }, {\r\n    label: '3 days ago',\r\n    value: 2\r\n  }, {\r\n    label: '5 days ago',\r\n    value: 4\r\n  }, {\r\n    label: '7 days ago',\r\n    value: 6\r\n  }, {\r\n    label: 'All time',\r\n    value: ALL_TIME\r\n  }, {\r\n    label: 'Custom',\r\n    value: CUSTOM_DATE,\r\n    hidden: true,\r\n  }];\r\n\r\n  preSelectedDate = new FormControl(-1);\r\n\r\n  maxDate: NgbDate | null = null;\r\n  minDate: NgbDate | null = null;\r\n  calendarIcon = faCalendarAlt;\r\n\r\n  hoveredDate: NgbDate | null = null;\r\n\r\n  private _from: NgbDate;\r\n  private _to: NgbDate;\r\n\r\n  onChange: any = () => {};\r\n  onTouch: any = () => {};\r\n\r\n  constructor(\r\n    private calendar: NgbCalendar,\r\n    public formatter: NgbDateParserFormatter\r\n  ) {\r\n    this.maxDate = calendar.getToday();\r\n    this.minDate = calendar.getToday();\r\n    this.minDate.year = 2010;\r\n    this.minDate.month = 1;\r\n    this.minDate.day = 1;\r\n    // this.toDate = calendar.getToday();\r\n    // this.fromDate = calendar.getPrev(calendar.getToday(), 'd', 6);\r\n  }\r\n\r\n  get fromDate(): NgbDate {\r\n    return this._from;\r\n  }\r\n  set fromDate(date: NgbDate) {\r\n    if (date && !date.equals(this._from)) {\r\n      setTimeout(() => { this.preSelectedDate.setValue(CUSTOM_DATE); }, 0);\r\n    }\r\n    this._from = date;\r\n    this.onChange({\r\n      from: date,\r\n      to: this.toDate\r\n    });\r\n  }\r\n\r\n  get toDate(): NgbDate {\r\n    return this._to;\r\n  }\r\n  set toDate(date: NgbDate) {\r\n    if (date && !date.equals(this._to)) {\r\n      setTimeout(() => { this.preSelectedDate.setValue(CUSTOM_DATE); }, 0);\r\n    }\r\n    this._to = date;\r\n    this.onChange({\r\n      from: this.fromDate,\r\n      to: date\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    setTimeout(() => this.setInitValueOfPresetDate(), 0);\r\n  }\r\n\r\n  onDateSelection(date: NgbDate) {\r\n    if (!this.fromDate && !this.toDate) {\r\n      this.fromDate = date;\r\n    } else if (this.fromDate && !this.toDate && date.after(this.fromDate)) {\r\n      this.toDate = date;\r\n    } else {\r\n      this.toDate = null;\r\n      this.fromDate = date;\r\n    }\r\n    this.preSelectedDate.setValue(CUSTOM_DATE);\r\n  }\r\n\r\n  isHovered(date: NgbDate) {\r\n    return this.fromDate && !this.toDate && this.hoveredDate && date.after(this.fromDate) && date.before(this.hoveredDate);\r\n  }\r\n\r\n  isInside(date: NgbDate) {\r\n    return this.toDate && date.after(this.fromDate) && date.before(this.toDate);\r\n  }\r\n\r\n  isRange(date: NgbDate) {\r\n    return date.equals(this.fromDate) || (this.toDate && date.equals(this.toDate)) || this.isInside(date) || this.isHovered(date);\r\n  }\r\n\r\n  isDisabled(date: NgbDate) {\r\n    return date.after(this.maxDate)\r\n      || date.before(this.minDate);\r\n  }\r\n\r\n  validateInput(currentValue: NgbDate | null, input: string): NgbDate | null {\r\n    const parsed = this.formatter.parse(input);\r\n    return parsed && this.calendar.isValid(NgbDate.from(parsed)) ? NgbDate.from(parsed) : currentValue;\r\n  }\r\n\r\n  writeValue(value: DatePickerRangeModel) {\r\n    this.fromDate = value.from;\r\n    this.toDate = value.to;\r\n  }\r\n\r\n  registerOnChange(fn: any) { this.onChange = fn; }\r\n\r\n  registerOnTouched(fn: any) { this.onTouch = fn; }\r\n\r\n  setPreSelectedDate(value: number|Presets) {\r\n    this.preSelectedDate.setValue(value);\r\n    this._to = momentToNgbDate(moment());\r\n\r\n    if (value === ALL_TIME) {\r\n      this._from = this.allTimeMinDate;\r\n    } else {\r\n      if (typeof(value) === 'number') {\r\n        this._from = momentToNgbDate(moment().subtract(value, 'days'));\r\n      } else {\r\n        this._from = momentToNgbDate(moment().startOf(value));\r\n      }\r\n    }\r\n\r\n    this.onChange({\r\n      from: this.fromDate,\r\n      to: this.toDate\r\n    });\r\n  }\r\n\r\n  getPreSelectedDateLabel(): string {\r\n    return this.preSelectedDates.find(item => item.value === this.preSelectedDate.value).label;\r\n  }\r\n\r\n  isPreSelectedItemSelected(item: { value: number }): boolean {\r\n    return this.preSelectedDate.value  === item.value;\r\n  }\r\n\r\n  setInitValueOfPresetDate() {\r\n    const from = ngbDateToMoment(this.fromDate);\r\n    const to = ngbDateToMoment(this.toDate);\r\n\r\n    const diff = to.diff(from, 'days');\r\n\r\n    const presetIndex = this.preSelectedDates.findIndex(preset => preset.value === diff);\r\n\r\n    if (presetIndex >= 0) {\r\n      this.preSelectedDate.setValue(diff);\r\n      return;\r\n    }\r\n\r\n    ['year', 'quarter', 'month', 'week'].forEach((preset: Presets) => {\r\n      if (to.diff(moment().startOf(preset), 'days') === diff) {\r\n        this.preSelectedDate.setValue(preset);\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"flex\">\r\n  <div class=\"col\">\r\n    <div ngbDropdown class=\"d-inline-block\">\r\n      <button class=\"btn btn-outline-primary\" id=\"dropdownBasic1\" ngbDropdownToggle>{{ getPreSelectedDateLabel() }}</button>\r\n      <div ngbDropdownMenu aria-labelledby=\"dropdownBasic1\">\r\n        <ng-container *ngFor=\"let item of preSelectedDates\">\r\n          <button ngbDropdownItem *ngIf=\"!item.hidden\"\r\n            (click)=\"setPreSelectedDate(item.value)\"\r\n            [class.selected]=\"isPreSelectedItemSelected(item)\">\r\n            {{ item.label }}\r\n          </button>\r\n        </ng-container>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"form-group hidden\">\r\n    <div class=\"input-group\">\r\n      <input name=\"datepicker\"\r\n             class=\"form-control hidden\"\r\n             ngbDatepicker\r\n             #datepicker=\"ngbDatepicker\"\r\n             [autoClose]=\"'outside'\"\r\n             (dateSelect)=\"onDateSelection($event)\"\r\n             [displayMonths]=\"2\"\r\n             [dayTemplate]=\"t\"\r\n             outsideDays=\"hidden\"\r\n             [startDate]=\"fromDate!\">\r\n      <ng-template #t let-date let-focused=\"focused\">\r\n        <span class=\"custom-day\"\r\n              [class.focused]=\"focused\"\r\n              [class.range]=\"isRange(date)\"\r\n              [class.faded]=\"isHovered(date) || isInside(date)\"\r\n              [class.disabled]=\"isDisabled(date)\"\r\n              (mouseenter)=\"hoveredDate = date\"\r\n              (mouseleave)=\"hoveredDate = null\">\r\n          {{ date.day }}\r\n        </span>\r\n      </ng-template>\r\n    </div>\r\n  </div>\r\n  <div class=\"form-group\">\r\n    <span>From: </span>\r\n    <div class=\"input-group\">\r\n      <input #dpFromDate\r\n             class=\"form-control\" placeholder=\"yyyy-mm-dd\"\r\n             name=\"dpFromDate\"\r\n             [value]=\"formatter.format(fromDate)\"\r\n             (input)=\"fromDate = validateInput(fromDate, dpFromDate.value)\">\r\n      <div class=\"input-group-append\">\r\n        <button class=\"btn btn-outline-secondary calendar\" (click)=\"datepicker.toggle()\" type=\"button\">\r\n          <fa-icon [icon]=\"calendarIcon\"></fa-icon>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"form-group ml-2\">\r\n    <span class=\"to\">To: </span>\r\n    <div class=\"input-group\">\r\n      <input #dpToDate\r\n             class=\"form-control\" placeholder=\"yyyy-mm-dd\"\r\n             name=\"dpToDate\"\r\n             [value]=\"formatter.format(toDate)\"\r\n             (input)=\"toDate = validateInput(toDate, dpToDate.value)\">\r\n      <div class=\"input-group-append\">\r\n        <button class=\"btn btn-outline-secondary calendar\" (click)=\"datepicker.toggle()\" type=\"button\">\r\n          <fa-icon [icon]=\"calendarIcon\"></fa-icon>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\nimport { NgbDatepickerModule, NgbDropdownModule } from '@ng-bootstrap/ng-bootstrap';\r\n\r\nimport { DatePickerRangeComponent } from './date-picker-range.component';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [DatePickerRangeComponent],\r\n  imports: [\r\n    CommonModule,\r\n    NgbDatepickerModule,\r\n    NgbDropdownModule,\r\n    FontAwesomeModule\r\n  ],\r\n  exports: [DatePickerRangeComponent]\r\n})\r\nexport class DatePickerRangeModule { }\r\n","import { NgbDate } from '@ng-bootstrap/ng-bootstrap';\r\nimport * as moment from 'moment';\r\n\r\nexport function ngbDateToMoment(date: NgbDate): moment.Moment {\r\n  return moment().year(date.year).month(date.month - 1).date(date.day);\r\n}\r\n\r\nexport function momentToNgbDate(date: moment.Moment): NgbDate {\r\n  return new NgbDate(date.year(), date.month() + 1, date.date());\r\n}\r\n"],"sourceRoot":"webpack:///"}