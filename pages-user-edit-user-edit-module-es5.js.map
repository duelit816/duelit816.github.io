{"version":3,"sources":["webpack:///src/app/features/admin/pages/user-edit/delete-confirm-modal/delete-confirm-modal.component.ts","webpack:///src/app/features/admin/pages/user-edit/delete-confirm-modal/delete-confirm-modal.component.html","webpack:///src/app/features/admin/pages/user-edit/user-edit-routing.module.ts","webpack:///src/app/features/admin/pages/user-edit/user-edit.component.ts","webpack:///src/app/features/admin/pages/user-edit/user-edit.component.html","webpack:///src/app/features/admin/pages/user-edit/user-edit.module.ts"],"names":["DeleteConfirmModalComponent","modal","selector","templateUrl","styleUrls","routes","path","component","UserEditRoutingModule","forChild","imports","exports","UserEditComponent","route","api","fb","calendar","toast","router","modalService","creditHistoryLimit","userCreditsHistory$","calendarIcon","isSavingUser","isCreditsUpdating","isDeleting","isUnregistering","creditHistoryPage$","lastCreditHistoryCount","ngUnsubscribe$","userId","snapshot","params","buildPath","GetUserById","user$","get","pipe","user","_bday","birthDate","toObject","bdayCal","getToday","day","date","month","months","year","years","userDetailsForm","group","firstName","lastName","email","required","country","state","status","role","banDescription","err","error","statusText","message","navigate","userCreditsPath","CreditsByUser","userCredits$","initCreditHistory","countries$","Countries","countries","map","name","states$","States","userCreditsControl","next","complete","userCreditsHistoryPath","CreditsHistoryByUser","page","query","limit","result","length","subscribe","history","value","concat","formValue","birthday","format","newUserValue","first_name","last_name","birth_date","post","UpdateUser","body","opts","addSecurity","success","creditsToAdd","disable","virtual_amount","enable","setValue","data","reloadCreditHistory","UnregisterDevice","console","log","deleteModalRef","open","then","action","deleteUser","catch","DeleteUserById","delete","unregisterDevice","openUserStats","UserEditModule","declarations"],"mappings":"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","file":"pages-user-edit-user-edit-module-es5.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\n\r\n@Component({\r\n  selector: 'duelit-delete-confirm-modal',\r\n  templateUrl: './delete-confirm-modal.component.html',\r\n  styleUrls: ['./delete-confirm-modal.component.scss']\r\n})\r\nexport class DeleteConfirmModalComponent {\r\n  status: boolean;\r\n  constructor(public modal: NgbActiveModal) { }\r\n}\r\n","<div class=\"modal-header\">\r\n  <h4 class=\"modal-title\" id=\"modal-title\">Confirm Delete</h4>\r\n  <button type=\"button\" class=\"close\" aria-label=\"Close button\" aria-describedby=\"modal-title\" (click)=\"modal.dismiss('Cross click')\">\r\n    <span aria-hidden=\"true\">&times;</span>\r\n  </button>\r\n</div>\r\n<div class=\"modal-body\">\r\n  <p>You are about delete a user. This process is <strong>irreversible</strong>. Are you sure you want to delete the user?</p>\r\n</div>\r\n<div class=\"modal-footer\">\r\n  <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"modal.dismiss('cancel')\">No</button>\r\n  <button type=\"button\" ngbAutofocus class=\"btn btn-primary\" (click)=\"modal.close('ok')\">Yes</button>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { UserEditComponent } from './user-edit.component';\r\n\r\nconst routes: Routes = [{ path: '', component: UserEditComponent }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class UserEditRoutingModule { }\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { UserProfileModel } from '@core/models/user-profile.model';\r\nimport { ApiService } from '@core/services/api.service';\r\nimport { ToastService } from '@core/services/toast.service';\r\nimport { faCalendarAlt } from '@fortawesome/free-regular-svg-icons';\r\nimport { NgbCalendar, NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { CreditsApi, UsersApi, ValuesApi } from '@shared/constants/api';\r\nimport { EmailValidator } from '@shared/validators';\r\nimport * as moment from 'moment';\r\nimport { BehaviorSubject, NEVER, Observable, of, Subject } from 'rxjs';\r\nimport { catchError, concatMap, map, takeUntil, tap } from 'rxjs/operators';\r\n\r\nimport { CountryModel } from './models/country.model';\r\nimport { CreditHistoryRecord } from './models/user-credit-history-record.model';\r\nimport { UserCreditsModel } from './models/user-credits.model';\r\nimport {\r\n  DeleteConfirmModalComponent,\r\n} from './delete-confirm-modal/delete-confirm-modal.component';\r\n\r\n@Component({\r\n  selector: 'duelit-user-edit',\r\n  templateUrl: './user-edit.component.html',\r\n  styleUrls: ['./user-edit.component.scss']\r\n})\r\nexport class UserEditComponent implements OnInit, OnDestroy {\r\n  readonly creditHistoryLimit = 15;\r\n\r\n  user$: Observable<UserProfileModel>;\r\n  userCredits$: Observable<UserCreditsModel>;\r\n  userCreditsHistory$: BehaviorSubject<CreditHistoryRecord[]> = new BehaviorSubject<CreditHistoryRecord[]>([]);\r\n  countries$: Observable<string[]>;\r\n  states$: Observable<string[]>;\r\n  userDetailsForm: FormGroup;\r\n  userCreditsControl: FormControl;\r\n  calendarIcon = faCalendarAlt;\r\n  isSavingUser = false;\r\n  isCreditsUpdating = false;\r\n  isDeleting = false;\r\n  isUnregistering = false;\r\n  creditHistoryPage$ = new BehaviorSubject<number>(1);\r\n  lastCreditHistoryCount = this.creditHistoryLimit;\r\n  ngUnsubscribe$ = new Subject();\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private api: ApiService,\r\n    private fb: FormBuilder,\r\n    private calendar: NgbCalendar,\r\n    private toast: ToastService,\r\n    private router: Router,\r\n    private modalService: NgbModal,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    const userId = this.route.snapshot.params.userId;\r\n\r\n    const path = this.api.buildPath(UsersApi.GetUserById, [userId]);\r\n    this.user$ = this.api.get(path).pipe(\r\n      tap((user: UserProfileModel) => {\r\n        const _bday = moment(user.birthDate).toObject();\r\n        const bdayCal = this.calendar.getToday();\r\n        bdayCal.day = _bday.date;\r\n        bdayCal.month = _bday.months + 1;\r\n        bdayCal.year = _bday.years;\r\n\r\n        this.userDetailsForm = this.fb.group({\r\n          firstName: new FormControl(user.firstName),\r\n          lastName: new FormControl(user.lastName),\r\n          email: new FormControl(user.email, [EmailValidator, Validators.required]),\r\n          country: new FormControl(user.country),\r\n          state: new FormControl(user.state),\r\n          birthDate: new FormControl(bdayCal),\r\n          status: new FormControl(user.status),\r\n          role: new FormControl(user.role),\r\n          banDescription: new FormControl(user.banDescription)\r\n        });\r\n      }),\r\n      catchError(err => {\r\n        this.toast.error(err.error || err.statusText || err.message);\r\n        this.router.navigate(['/admin/users']);\r\n        return NEVER;\r\n      })\r\n    );\r\n\r\n    const userCreditsPath = this.api.buildPath(CreditsApi.CreditsByUser, [userId]);\r\n    this.userCredits$ = this.api.get(userCreditsPath) as Observable<UserCreditsModel>;\r\n\r\n    this.initCreditHistory(userId);\r\n\r\n    this.countries$ = this.api.get(ValuesApi.Countries).pipe(\r\n      map((countries: CountryModel[] = []) => countries.map(country => country.name))\r\n    );\r\n    this.states$ = this.api.get(ValuesApi.States).pipe(\r\n      map((countries: CountryModel[] = []) => countries.map(country => country.name))\r\n    );\r\n    this.userCreditsControl = new FormControl(0);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.ngUnsubscribe$.next();\r\n    this.ngUnsubscribe$.complete();\r\n  }\r\n\r\n  initCreditHistory(userId) {\r\n    const userCreditsHistoryPath = this.api.buildPath(CreditsApi.CreditsHistoryByUser, [userId]);\r\n\r\n    this.creditHistoryPage$.pipe(\r\n      concatMap(page => {\r\n        return this.api.get(userCreditsHistoryPath, {\r\n          query: {\r\n            page,\r\n            limit: this.creditHistoryLimit\r\n          }\r\n        }).pipe(\r\n          tap((result: CreditHistoryRecord[]) => {\r\n            this.lastCreditHistoryCount = result.length;\r\n          }),\r\n          catchError(err => {\r\n            this.toast.error(err.error || err.statusText || err.message);\r\n            return NEVER;\r\n          })\r\n        ) as Observable<CreditHistoryRecord[]>;\r\n      }),\r\n      takeUntil(this.ngUnsubscribe$)\r\n    ).subscribe(history => {\r\n      this.userCreditsHistory$.next(this.userCreditsHistory$.value.concat(history));\r\n    });\r\n  }\r\n\r\n  updateUser() {\r\n    const formValue = this.userDetailsForm.value;\r\n    const birthday = moment().year(formValue.birthDate.year).month(formValue.birthDate.month - 1)\r\n      .date(formValue.birthDate.day).format('YYYY-MM-DD');\r\n    const newUserValue = {\r\n      first_name: formValue.firstName,\r\n      last_name: formValue.lastName,\r\n      email: formValue.email,\r\n      country: formValue.country,\r\n      state: formValue.state,\r\n      role: formValue.role,\r\n      status: formValue.status,\r\n      banDescription: formValue.status === 'banned' ? formValue.banDescription : '',\r\n      birth_date: birthday\r\n    };\r\n\r\n    this.isSavingUser = true;\r\n    this.api.post(UsersApi.UpdateUser, {\r\n      body: newUserValue,\r\n      opts: {\r\n        addSecurity: false\r\n      }\r\n    }).pipe(\r\n      tap(() => this.isSavingUser = false),\r\n      catchError(err => {\r\n        this.isSavingUser = false;\r\n        this.toast.error(err.error || err.statusText || err.message);\r\n        return NEVER;\r\n      })\r\n    ).subscribe(() => {\r\n      this.toast.success('Successfully updated user details.');\r\n    });\r\n  }\r\n\r\n  updateCredits() {\r\n    this.isCreditsUpdating = true;\r\n\r\n    const userId = this.route.snapshot.params.userId;\r\n    const creditsToAdd = this.userCreditsControl.value;\r\n    this.userCreditsControl.disable();\r\n\r\n    const path = this.api.buildPath(CreditsApi.CreditsByUser, [userId]);\r\n    this.api.post(path, {\r\n      body: {\r\n        virtual_amount: creditsToAdd\r\n      },\r\n      opts: {\r\n        addSecurity: false\r\n      }\r\n    }).pipe(\r\n      tap(() => {\r\n        this.isCreditsUpdating = false;\r\n        this.userCreditsControl.enable();\r\n        this.userCreditsControl.setValue(0);\r\n      }),\r\n      catchError(err => {\r\n        this.isCreditsUpdating = false;\r\n        this.userCreditsControl.enable();\r\n        this.toast.error(err.error || err.statusText || err.message);\r\n        return NEVER;\r\n      })\r\n    ).subscribe((data: UserCreditsModel) => {\r\n      this.userCredits$ = of(data);\r\n      this.reloadCreditHistory();\r\n      this.toast.success('Successfully updated user credits.');\r\n    });\r\n  }\r\n\r\n  unregisterDevice() {\r\n    this.isUnregistering = true;\r\n\r\n    this.api.post(UsersApi.UnregisterDevice, {\r\n      body: {\r\n        email: this.userDetailsForm.value.email\r\n      },\r\n      opts: {\r\n        addSecurity: false\r\n      }\r\n    }).pipe(\r\n      tap(() => this.isUnregistering = false),\r\n      catchError(err => {\r\n        this.isUnregistering = false;\r\n        console.log(\"ERROR in unregistering\", err);\r\n        this.toast.error(err.error || err.statusText || err.message);\r\n        return NEVER;\r\n      })\r\n    ).subscribe(() => {\r\n      this.toast.success('Successfully unregistered device.');\r\n    });\r\n  }\r\n\r\n  openUserStats() {\r\n    const userId = this.route.snapshot.params.userId;\r\n\r\n    this.router.navigate([`/admin/user`, userId, 'stats']);\r\n  }\r\n\r\n  confirmDelete() {\r\n    const deleteModalRef = this.modalService.open(DeleteConfirmModalComponent);\r\n\r\n    deleteModalRef.result.then((action) => {\r\n      if (action === 'ok') {\r\n        this.deleteUser();\r\n      }\r\n    }).catch(() => {\r\n      return;\r\n    });\r\n  }\r\n\r\n  deleteUser() {\r\n    const userId = this.route.snapshot.params.userId;\r\n    this.isDeleting = true;\r\n\r\n    const path = this.api.buildPath(UsersApi.DeleteUserById, [userId]);\r\n    this.api.delete(path).pipe(\r\n      catchError(err => {\r\n        if (err.status === 200) {\r\n          return of({});\r\n        } else {\r\n          this.toast.error(err.error || err.statusText || err.message);\r\n          this.isDeleting = false;\r\n          return NEVER;\r\n        }\r\n      })\r\n    ).subscribe(() => {\r\n      this.toast.success(`Successfully deleted user ${this.userDetailsForm.value.email}`);\r\n      this.router.navigate(['/admin/users']);\r\n    });\r\n  }\r\n\r\n  loadMoreCreditHistory() {\r\n    this.creditHistoryPage$.next(this.creditHistoryPage$.value + 1);\r\n  }\r\n\r\n  reloadCreditHistory() {\r\n    this.userCreditsHistory$.next([]);\r\n    this.creditHistoryPage$.next(1);\r\n  }\r\n}\r\n","<div class=\"row\">\r\n  <h5 class=\"pointer\" onclick=\"window.history.back()\">&lt; back to users</h5>\r\n</div>\r\n<div class=\"row\">\r\n  <div class=\"col-md-5\">\r\n    <div class=\"card\">\r\n\r\n      <div class=\"card-header d-flex\">\r\n        <span>User Details</span>\r\n        <button class=\"btn btn-primary custom\" (click)=\"unregisterDevice()\" [disabled]=\"isUnregistering\">Unregister Device</button>\r\n        <button class=\"btn btn-primary custom\" (click)=\"openUserStats()\" [disabled]=\"isDeleting\">View user stats</button>\r\n      </div>\r\n\r\n      <div class=\"card-body\" *ngIf=\"user$ | async; else loading\" [formGroup]=\"userDetailsForm\">\r\n\r\n        <div class=\"form-group\">\r\n          <label>First Name</label>\r\n          <input type=\"text\" class=\"form-control\" formControlName=\"firstName\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label>Last Name</label>\r\n          <input type=\"text\" class=\"form-control\" formControlName=\"lastName\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label>Email</label>\r\n          <input type=\"email\" class=\"form-control\" formControlName=\"email\" readonly disabled>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n          <div class=\"col-6 form-group\">\r\n            <label>Country</label>\r\n            <select class=\"form-control\" formControlName=\"country\" aria-placeholder=\"Select Country\" *ngIf=\"countries$ | async; let countries; else loadingSelect\">\r\n              <option *ngFor=\"let country of countries\" [value]=\"country\">{{ country }}</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"col-6 form-group\" *ngIf=\"userDetailsForm.get('country').value === 'United States'\">\r\n            <label>State / Province</label>\r\n            <select class=\"form-control\" formControlName=\"states\" aria-placeholder=\"Select States / Province\" *ngIf=\"states$ | async; let states; else loadingSelect\">\r\n              <option *ngFor=\"let state of states\" [value]=\"state\">{{ state }}</option>\r\n            </select>\r\n          </div>\r\n\r\n          <ng-template #loadingSelect>\r\n            <input readonly disabled class=\"form-control-plaintext\" type=\"text\" placeholder=\"Loading...\">\r\n          </ng-template>\r\n        </div>\r\n\r\n\r\n        <div class=\"row\">\r\n          <div class=\"col form-group\">\r\n            <label>Birthday</label>\r\n\r\n            <div class=\"input-group\">\r\n              <input class=\"form-control\" placeholder=\"YYYY-MM-DD\" formControlName=\"birthDate\" ngbDatepicker #d=\"ngbDatepicker\">\r\n              <div class=\"input-group-append\">\r\n                <button class=\"btn btn-outline-secondary calendar\" (click)=\"d.toggle()\" type=\"button\">\r\n                  <fa-icon [icon]=\"calendarIcon\"></fa-icon>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col form-group\">\r\n            <label>Status</label>\r\n            <select formControlName=\"status\" class=\"form-control\">\r\n              <option value=\"active\">Active</option>\r\n              <option value=\"inactive\">Inactive</option>\r\n              <option value=\"pending\">Pending</option>\r\n              <option value=\"deactivated\">Deactivated</option>\r\n              <option value=\"banned\">Banned</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group\" *ngIf=\"userDetailsForm.get('status').value === 'banned'\">\r\n          <label>Ban Description</label>\r\n          <input type=\"text\" class=\"form-control\" formControlName=\"banDescription\">\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n          <div class=\"col-6 form-group\">\r\n            <label>Role</label>\r\n            <select class=\"form-control\" formControlName=\"role\">\r\n              <option value=\"admin\">Admin</option>\r\n              <option value=\"developer\">Developer</option>\r\n              <option value=\"player\">Player</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <button class=\"btn btn-primary custom col\" [disabled]=\"userDetailsForm.invalid || isSavingUser || isDeleting\" (click)=\"updateUser()\">Save</button>\r\n        <button class=\"btn btn-danger custom col\" [disabled]=\"isDeleting\" (click)=\"confirmDelete()\">Delete</button>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div class=\"col-md-7\">\r\n    <div class=\"card\">\r\n      <div class=\"card-header\">\r\n        Edit Credits\r\n      </div>\r\n      <div class=\"card-body form-group\" *ngIf=\"userCredits$ | async; else loading; let _userCredits\">\r\n        <label>Credits - {{_userCredits.virtualAmount}}</label>\r\n        <div class=\"credits d-flex\">\r\n          <input type=\"number\" class=\"form-control col-6\" [formControl]=\"userCreditsControl\" min=\"0\" [disabled]=\"isCreditsUpdating\">\r\n          <button class=\"btn btn-primary custom col-5\" (click)=\"updateCredits()\" [disabled]=\"isCreditsUpdating || isDeleting || userCreditsControl.value < 1\">Update</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"card\">\r\n      <div class=\"card-header\">\r\n        Credits History\r\n      </div>\r\n      <div class=\"card-body credit-history\" *ngIf=\"userCreditsHistory$ | async; else loading; let _userCreditsHistory\">\r\n        <table mat-table [dataSource]=\"_userCreditsHistory\">\r\n          <ng-container matColumnDef=\"transactionId\">\r\n            <th mat-header-cell *matHeaderCellDef> ID </th>\r\n            <td mat-cell *matCellDef=\"let element\"> {{element.transactionId || '-'}} </td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"createdAt\">\r\n            <th mat-header-cell *matHeaderCellDef> Date </th>\r\n            <td mat-cell *matCellDef=\"let element\"> {{element.createdAt}} </td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"type\">\r\n            <th mat-header-cell *matHeaderCellDef> Type </th>\r\n            <td mat-cell *matCellDef=\"let element\"> {{element.type}} </td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"gameId\">\r\n            <th mat-header-cell *matHeaderCellDef> Game ID </th>\r\n            <td mat-cell *matCellDef=\"let element\"> {{element.gameId || '-'}} </td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"gameName\">\r\n            <th mat-header-cell *matHeaderCellDef> Game Name </th>\r\n            <td mat-cell *matCellDef=\"let element\"> {{element.gameName || '-'}} </td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"productId\">\r\n            <th mat-header-cell *matHeaderCellDef> Product </th>\r\n            <td mat-cell *matCellDef=\"let element\"> {{element.productId || '-'}} </td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"amount\">\r\n            <th mat-header-cell *matHeaderCellDef> Amount </th>\r\n            <td mat-cell *matCellDef=\"let element\"> {{element.amount}} </td>\r\n          </ng-container>\r\n\r\n          <tr mat-header-row *matHeaderRowDef=\"['transactionId', 'createdAt', 'type', 'gameId', 'gameName', 'productId', 'amount']; sticky: true\" class=\"named-columns\"></tr>\r\n          <tr mat-row *matRowDef=\"let row; columns: ['transactionId', 'createdAt', 'type', 'gameId', 'gameName', 'productId', 'amount'];\"></tr>\r\n\r\n        </table>\r\n        <span *ngIf=\"lastCreditHistoryCount === creditHistoryLimit\" class=\"load-more\" (click)=\"loadMoreCreditHistory()\">Load more...</span>\r\n        <span *ngIf=\"lastCreditHistoryCount !== creditHistoryLimit\">You've reached the end.</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<ng-template #loading>\r\n  <div class=\"loading-container d-flex\">\r\n    <span class=\"loading\"></span>\r\n  </div>\r\n</ng-template>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\nimport { NgbDatepickerModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { PanelModule } from '@shared/components/panel';\r\nimport { NgbModalModule } from '@ng-bootstrap/ng-bootstrap';\r\n\r\nimport { UserEditRoutingModule } from './user-edit-routing.module';\r\nimport { UserEditComponent } from './user-edit.component';\r\nimport {\r\n  DeleteConfirmModalComponent,\r\n} from './delete-confirm-modal/delete-confirm-modal.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [UserEditComponent, DeleteConfirmModalComponent],\r\n  imports: [\r\n    CommonModule,\r\n    UserEditRoutingModule,\r\n    PanelModule,\r\n    ReactiveFormsModule,\r\n    NgbDatepickerModule,\r\n    FontAwesomeModule,\r\n    MatTableModule,\r\n    NgbModalModule,\r\n  ]\r\n})\r\nexport class UserEditModule { }\r\n"]}