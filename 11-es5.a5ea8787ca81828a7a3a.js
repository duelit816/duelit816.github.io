function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{aVeI:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("fXoL"),o=n("1kSV"),i=function(){var e=function e(t){_classCallCheck(this,e);var n=t.getToday();this.range={from:t.getPrev(n,"d",6),to:n}};return e.\u0275fac=function(t){return new(t||e)(r.dc(o.b))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac}),e}()},h7dw:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("lZpj"),o=n("AytR"),i=n("tk/3"),a=n("lJxs"),s=n("fXoL"),u=function(){var e=function(){function e(t){_classCallCheck(this,e),this.http=t,this.keen=new r.Keen(o.a.keenio)}return _createClass(e,[{key:"run",value:function(){var e;return(e=this.keen).run.apply(e,arguments)}},{key:"oldquery",value:function(){var e;return(e=this.keen).query.apply(e,arguments)}},{key:"query",value:function(e,t){var n=new i.d({Authorization:o.a.keenio.readKey}),r=this.transformQuery(e,t);return this.http.post("https://api.keen.io/3.0/projects/".concat(o.a.keenio.projectId,"/queries/").concat(e),r,{headers:n}).pipe(Object(a.a)((function(e){return Object.assign({query:r},e)}))).toPromise()}},{key:"transformQuery",value:function(e,t){var n=Object.assign({},t);return n.analysis_type=e,n.timezone="UTC",n.event_collection=t.eventCollection,delete n.eventCollection,t.groupBy&&(n.group_by=t.groupBy,delete n.groupBy),n}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.dc(i.b))},e.\u0275prov=s.Lb({token:e,factory:e.\u0275fac}),e}()},lZpj:function(e,t,n){var r;window,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=24)}([function(e,t){e.exports=function(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])e[n]=arguments[t][n];return e}},function(e,t){e.exports=function(e,t,n){var r;if(!e)return 0;if(n=n||e,e instanceof Array){for(r=0;r<e.length;r++)if(!1===t.call(n,e[r],r,e))return 0}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return 0;return 1}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t),(function(e){var t=n(9),r=n(4),o=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();o.Promise?o.Promise.prototype.finally||(o.Promise.prototype.finally=r.a):o.Promise=t.a}).call(this,n(2))},function(e,t,n){"use strict";t.a=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}},function(e,t){!function(e){"use strict";if(!e.fetch){var t="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,i="ArrayBuffer"in e;if(i)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(e){return e&&DataView.prototype.isPrototypeOf(e)},u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};h.prototype.append=function(e,t){e=f(e),t=d(t);var n=this.map[e];this.map[e]=n?n+","+t:t},h.prototype.delete=function(e){delete this.map[f(e)]},h.prototype.get=function(e){return e=f(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(f(e))},h.prototype.set=function(e,t){this.map[f(e)]=d(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),p(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),p(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),p(e)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},g.call(w.prototype),g.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var l=[301,302,303,307,308];E.redirect=function(e,t){if(-1===l.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},e.Headers=h,e.Request=w,e.Response=E,e.fetch=function(e,t){return new Promise((function(n,o){var i=new w(e,t),a=new XMLHttpRequest;a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL"),n(new E("response"in a?a.response:a.responseText,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&r&&(a.responseType="blob"),i.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),a.send(void 0===i._bodyInit?null:i._bodyInit)}))},e.fetch.polyfill=!0}function f(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function p(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function y(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function v(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=v(t);return t.readAsArrayBuffer(e),n}function b(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(r&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(o&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(i&&r&&s(e))this._bodyArrayBuffer=b(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!i||!ArrayBuffer.prototype.isPrototypeOf(e)&&!u(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=b(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=y(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,n,r=y(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=v(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}function w(e,t){var n,r,o=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),c.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function E(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e){e.exports={name:"keen-analysis",version:"3.5.0",description:"A JavaScript client for Keen.IO",main:"dist/node/keen-analysis.js",browser:"dist/keen-analysis.js",scripts:{start:"NODE_ENV=development webpack-dev-server",test:"NODE_ENV=test jest && npm run test:node","test:node":"NODE_ENV=test TEST_ENV=node jest","test:watch":"NODE_ENV=test jest --watch","test:node:watch":"NODE_ENV=test TEST_ENV=node jest --watch",build:"NODE_ENV=production webpack -p && NODE_ENV=production OPTIMIZE_MINIMIZE=1 webpack -p && npm run build:node && npm run build:modules && npm run build:modules:node","build:node":"TARGET=node NODE_ENV=production webpack -p","build:modules":"NODE_ENV=production webpack -p --config webpack.modules.config.js","build:modules:node":"NODE_ENV=production TARGET=node webpack -p --config webpack.modules.config.js",profile:"webpack --profile --json > stats.json",analyze:"webpack-bundle-analyzer stats.json /dist",preversion:"npm run build && npm run test",version:"npm run build && git add .",postversion:"git push && git push --tags && npm publish",demo:"npm run build:node && node ./test/demo/index.node.js"},repository:{type:"git",url:"git+https://github.com/keen/keen-analysis.js.git"},author:"Keen IO <team@keen.io>",homepage:"https://keen.io",contributors:["Dustin Larimer <dustin@keen.io> (https://github.com/dustinlarimer)","Adam Kasprowicz <adam.kasprowicz@keen.io> (https://github.com/adamkasprowicz)","Dariusz \u0141acheta <dariusz.lacheta@keen.io> (https://github.com/dariuszlacheta)"],keywords:["Analytics","Analysis","Conversion","Query","Stats","Client","Min","Max","Count","Percentile","Average","Median","Keen","Keen Query"],license:"MIT",bugs:{url:"https://github.com/keen/keen-analysis.js/issues"},dependencies:{crossfilter2:"^1.4.6",csvtojson:"^2.0.8","keen-core":"^0.2.0",moment:"^2.22.2","promise-polyfill":"^8.0.0","whatwg-fetch":"^2.0.4"},devDependencies:{"abortcontroller-polyfill":"^1.1.9","babel-loader":"^7.1.4","babel-plugin-transform-es2015-modules-commonjs":"^6.26.2","babel-plugin-transform-object-rest-spread":"^6.26.0","babel-preset-env":"^1.7.0",del:"^2.1.0",eslint:"^4.19.1","eslint-config-airbnb":"^16.1.0","eslint-loader":"^2.0.0","eslint-plugin-import":"^2.11.0","eslint-plugin-jsx-a11y":"^6.0.3","fake-indexeddb":"^2.0.4","html-loader":"^0.5.5","html-webpack-plugin":"^3.2.0",jest:"^22.4.3","jest-fetch-mock":"^1.6.5",merge:"^1.2.1",nock:"^9.2.6","regenerator-runtime":"^0.11.1",requirejs:"^2.1.22",through2:"^2.0.0","url-parse":"^1.4.3",webpack:"^4.5.0","webpack-bundle-analyzer":"^3.3.2","webpack-cli":"^2.0.13","webpack-dev-server":"^3.1.14","xhr-mock":"^2.3.2"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.mapKeysToUnderscore=function e(t){var n=["cache"];if(!t||"object"!==(void 0===t?"undefined":r(t)))return t;var o=Object.keys(t)||[],i={};return o.forEach((function(o){var a=t[o];return n.includes(o)?i[o]=a:(o.match(new RegExp("[A-Z]"))&&(o=o.replace(/[A-Z]/g,(function(e){return"_"+e.toLowerCase()}))),Array.isArray(a)?i[o]=a.map((function(t){return e(t)})):"object"===(void 0===a?"undefined":r(a))?i[o]=e(a):void(i[o]=a))})),i}},function(e,t,n){var r=n(1);n(0),e.exports=function(e){var t=[];return r(e,(function(e,n){"string"!=typeof e&&(e=JSON.stringify(e)),t.push(n+"="+encodeURIComponent(e))})),t.join("&")}},function(e,t,n){"use strict";(function(e){var r=n(4),o=setTimeout;function i(){}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function s(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(o){return void c(t.promise,o)}u(t.promise,r)}else(1===e._state?u:c)(t.promise,e._value)}))):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void d((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,l(e)}catch(i){c(e,i)}var r,o}function c(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&a._immediateFn((function(){e._handled||a._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)s(e,e._deferreds[t]);e._deferreds=null}function f(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function d(e,t){var n=!1;try{e((function(e){n||(n=!0,u(t,e))}),(function(e){n||(n=!0,c(t,e))}))}catch(r){if(n)return;n=!0,c(t,r)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(i);return s(this,new f(e,t,n)),n},a.prototype.finally=r.a,a.all=function(e){return new a((function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function i(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){i(e,t)}),n)}r[e]=a,0==--o&&t(r)}catch(u){n(u)}}for(var a=0;a<r.length;a++)i(a,r[a])}))},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a((function(t){t(e)}))},a.reject=function(e){return new a((function(t,n){n(e)}))},a.race=function(e){return new a((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},a._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){o(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.a=a}).call(this,n(21).setImmediate)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.MD5=function(e){return function(e){for(var t,n="0123456789ABCDEF",r="",o=0;o<e.length;o++)t=e.charCodeAt(o),r+=n.charAt(t>>>4&15)+n.charAt(15&t);return r}(function(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}(function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,o=-1732584194,l=271733878,f=0;f<e.length;f+=16){var d=n,p=r,h=o,y=l;r=u(r=u(r=u(r=u(r=s(r=s(r=s(r=s(r=a(r=a(r=a(r=a(r=i(r=i(r=i(r=i(r,o=i(o,l=i(l,n=i(n,r,o,l,e[f+0],7,-680876936),r,o,e[f+1],12,-389564586),n,r,e[f+2],17,606105819),l,n,e[f+3],22,-1044525330),o=i(o,l=i(l,n=i(n,r,o,l,e[f+4],7,-176418897),r,o,e[f+5],12,1200080426),n,r,e[f+6],17,-1473231341),l,n,e[f+7],22,-45705983),o=i(o,l=i(l,n=i(n,r,o,l,e[f+8],7,1770035416),r,o,e[f+9],12,-1958414417),n,r,e[f+10],17,-42063),l,n,e[f+11],22,-1990404162),o=i(o,l=i(l,n=i(n,r,o,l,e[f+12],7,1804603682),r,o,e[f+13],12,-40341101),n,r,e[f+14],17,-1502002290),l,n,e[f+15],22,1236535329),o=a(o,l=a(l,n=a(n,r,o,l,e[f+1],5,-165796510),r,o,e[f+6],9,-1069501632),n,r,e[f+11],14,643717713),l,n,e[f+0],20,-373897302),o=a(o,l=a(l,n=a(n,r,o,l,e[f+5],5,-701558691),r,o,e[f+10],9,38016083),n,r,e[f+15],14,-660478335),l,n,e[f+4],20,-405537848),o=a(o,l=a(l,n=a(n,r,o,l,e[f+9],5,568446438),r,o,e[f+14],9,-1019803690),n,r,e[f+3],14,-187363961),l,n,e[f+8],20,1163531501),o=a(o,l=a(l,n=a(n,r,o,l,e[f+13],5,-1444681467),r,o,e[f+2],9,-51403784),n,r,e[f+7],14,1735328473),l,n,e[f+12],20,-1926607734),o=s(o,l=s(l,n=s(n,r,o,l,e[f+5],4,-378558),r,o,e[f+8],11,-2022574463),n,r,e[f+11],16,1839030562),l,n,e[f+14],23,-35309556),o=s(o,l=s(l,n=s(n,r,o,l,e[f+1],4,-1530992060),r,o,e[f+4],11,1272893353),n,r,e[f+7],16,-155497632),l,n,e[f+10],23,-1094730640),o=s(o,l=s(l,n=s(n,r,o,l,e[f+13],4,681279174),r,o,e[f+0],11,-358537222),n,r,e[f+3],16,-722521979),l,n,e[f+6],23,76029189),o=s(o,l=s(l,n=s(n,r,o,l,e[f+9],4,-640364487),r,o,e[f+12],11,-421815835),n,r,e[f+15],16,530742520),l,n,e[f+2],23,-995338651),o=u(o,l=u(l,n=u(n,r,o,l,e[f+0],6,-198630844),r,o,e[f+7],10,1126891415),n,r,e[f+14],15,-1416354905),l,n,e[f+5],21,-57434055),o=u(o,l=u(l,n=u(n,r,o,l,e[f+12],6,1700485571),r,o,e[f+3],10,-1894986606),n,r,e[f+10],15,-1051523),l,n,e[f+1],21,-2054922799),o=u(o,l=u(l,n=u(n,r,o,l,e[f+8],6,1873313359),r,o,e[f+15],10,-30611744),n,r,e[f+6],15,-1560198380),l,n,e[f+13],21,1309151649),o=u(o,l=u(l,n=u(n,r,o,l,e[f+4],6,-145523070),r,o,e[f+11],10,-1120210379),n,r,e[f+2],15,718787259),l,n,e[f+9],21,-343485551),n=c(n,d),r=c(r,p),o=c(o,h),l=c(l,y)}return Array(n,r,o,l)}(function(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}(e),8*e.length))).toLowerCase()};function o(e,t,n,r,o,i){return c(function(e,t){return e<<t|e>>>32-t}(c(c(t,e),c(r,i)),o),n)}function i(e,t,n,r,i,a,s){return o(t&n|~t&r,e,t,i,a,s)}function a(e,t,n,r,i,a,s){return o(t&r|n&~r,e,t,i,a,s)}function s(e,t,n,r,i,a,s){return o(t^n^r,e,t,i,a,s)}function u(e,t,n,r,i,a,s){return o(n^(t|~r),e,t,i,a,s)}function c(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFromCache=t.saveToCache=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n(3),n(5);var o,i=(o=n(10))&&o.__esModule?o:{default:o},a="indexedDB"in self,s=!0;a||(s=!1);var u=void 0,c={dbName:"keenAnalysisIndexedDB",dbCollectionName:"requests",dbCollectionKey:"url",maxAge:6e4};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u?Promise.resolve():s?(c=r({},c,e),new Promise((function(e,t){var n=self.indexedDB.open(c.dbName);n.onerror=function(t){s=!1,e()},n.onupgradeneeded=function(e){var t=e.target.result.createObjectStore(c.dbCollectionName,{keyPath:c.dbCollectionKey});t.createIndex(c.dbCollectionKey,c.dbCollectionKey,{unique:!0}),t.createIndex("expiryTime","expiryTime",{unique:!1})},n.onsuccess=function(t){(u=t.target.result).onerror=function(e){s=!1},e(u)}}))):Promise.resolve()}var f=function(e,t){return(0,i.default)(e+"&body="+JSON.stringify(t.body))};t.saveToCache=function(e,t,n){return l().then((function(){var r=u.transaction(c.dbCollectionName,"readwrite").objectStore(c.dbCollectionName).add({url:f(e,t),expiryTime:Date.now()+c.maxAge,responseJson:n});r.onsuccess=function(e){},r.onerror=function(e){s=!1}}))},t.getFromCache=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return l(r.cache).then((function(){return new Promise((function(o,i){if(!s)return o(null);var a=u.transaction(c.dbCollectionName,"readwrite").objectStore(c.dbCollectionName).index("expiryTime"),l=IDBKeyRange.upperBound(Date.now(),!0);a.openCursor(l).onsuccess=function(e){var t=e.target.result;t&&(u.transaction(c.dbCollectionName,"readwrite").objectStore(c.dbCollectionName).delete(e.target.result.value[c.dbCollectionKey]),t.continue())};var d=u.transaction(c.dbCollectionName,"readwrite").objectStore(c.dbCollectionName).index(c.dbCollectionKey).get(f(t,n));d.onsuccess=function(i){if(!i.target.result||i.target.result.expiryTime<Date.now()){if(i.target.result&&i.target.result.expiryTime<Date.now()){var a=u.transaction(c.dbCollectionName,"readwrite").objectStore(c.dbCollectionName).delete(i.target.result[c.dbCollectionKey]);return a.onsuccess=function(i){o(e(t,n,r))},a.onerror=function(i){s=!1,o(e(t,n,r))},o(null)}return o(null)}return o(i.target.result.responseJson)},d.onerror=function(i){s=!1,o(e(t,n,r))}}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEL=t.PUT=t.POST=t.GET=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n(3),n(5);var i=c(n(1)),a=c(n(0)),s=c(n(8)),u=n(11);function c(e){return e&&e.__esModule?e:{default:e}}var l=function e(t,n){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l={},f=n.url;"GET"!==t&&"DELETE"!==t||(-1===f.indexOf("?")?f+="?":f+="&",n.api_key&&(f+="api_key="+n.api_key+"&"),n.params&&(f+=(0,s.default)(n.params))),(0,i.default)(n.headers,(function(e,t){"string"==typeof e&&(l[t]=e)}));var d={method:t,body:"GET"!==t&&n.params?JSON.stringify(n.params):void 0,mode:"cors",headers:l};if(n.cache&&"DELETE"!==t&&"PUT"!==t&&!c.notFoundInCache)return(0,u.getFromCache)(f,d,n).then((function(r){if(r)return c.resolve(r);e(t,n,o({},c,{notFoundInCache:!0}))}));var p=void 0;fetch(f,o({},d,{signal:c.signal})).catch((function(e){c.reject(e)})).then((function(e){if(e)return p=e,e.ok&&"DELETE"===t?{}:e.json()})).then((function(e){if(e){if(e.error_code||!p.ok)return c.reject({ok:!1,error_code:e.error_code,body:e.message,status:p.status,statusText:p.statusText});n.cache&&"DELETE"!==t&&"PUT"!==t&&(0,u.saveToCache)(f,d,e);var o=(0,a.default)({},n);if(Array.isArray(e.result)?n.params.interval?n.params.group_by?"extraction"===n.params.analysis_type?c.resolve(e):e.result&&Array.isArray(e.result)&&e.result.forEach((function(e){return e.value?Array.isArray(e.value)?void e.value.forEach((function(e){isNaN(Number(e.result))||(e.result=Number(e.result))})):e.value:e})):e.result.forEach((function(e){isNaN(Number(e.value))||(e.value=Number(e.value))})):e.result.forEach((function(e){isNaN(Number(e.result))||(e.result=Number(e.result))})):isNaN(Number(e.result))||(e.result=Number(e.result)),n.resultParsers)if(Array.isArray(e.result))e.result.forEach(n.params.interval?n.params.group_by?function(e){e.value.forEach((function(e){var t=void 0;n.resultParsers.forEach((function(n){t=n(t||e.result)})),e.result=t}))}:function(e){var t=void 0;n.resultParsers.forEach((function(n){t=n(t||e.value)})),e.value=t}:function(e){var t=void 0;n.resultParsers.forEach((function(n){t=n(t||e.result)})),e.result=t});else if("object"===r(e.result))Object.keys(e.result).forEach((function(t){var r=void 0;n.resultParsers.forEach((function(n){r=n(r||e.result[t])})),e.result[t]=r}));else{var i=void 0;n.resultParsers.forEach((function(t){i=t(i||e.result)})),e.result=i}if(o.params&&void 0!==o.params.event_collection&&void 0===e.query){var s=(0,a.default)({query:o.params},e);c.resolve(s)}c.resolve(e)}}))},f=function(){var e=window||void 0;if(e.XMLHttpRequest&&(!e.ActiveXObject||e.location&&e.location.protocol&&"file:"!==e.location.protocol))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=f(),o=n.callback,a=t.url;return r.onreadystatechange=function(){var e=void 0;if(4==r.readyState)if(r.status>=200&&r.status<300)if(204===r.status)o&&o(null,r);else try{e=JSON.parse(r.responseText),o&&e&&o(null,e)}catch(t){o&&o(r,null)}else try{e=JSON.parse(r.responseText),o&&e&&o(e,null)}catch(t){o&&o(r,null)}},"GET"!==e?(r.open(e,a,!0),(0,i.default)(t.headers,(function(e,t){"string"==typeof e&&r.setRequestHeader(t,e)})),t.params?r.send(JSON.stringify(t.params)):r.send()):(a+="?",t.api_key&&(a+="api_key="+t.api_key+"&"),t.params&&(a+=(0,s.default)(t.params)),r.open(e,a,!0),(0,i.default)(t.headers,(function(e,t){"string"==typeof e&&r.setRequestHeader(t,e)})),r.send()),r};t.GET=function(e,t){return"undefined"!=typeof fetch?l("GET",e,t):f()?d("GET",e,t):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.url,r=t.callback,o=(new Date).getTime(),i=document.createElement("script"),a=document.getElementsByTagName("head")[0],u="keenJSONPCallback",c=!1;for(u+=o;u in window;)u+="a";window[u]=function(e){!0!==c&&l(null,e)},e.params&&(n+=(0,s.default)(e.params)),i.onreadystatechange=function(){!1===c&&"loaded"===this.readyState&&l("An error occurred",null)},i.onerror=function(){!1===c&&l("An error occurred",null)},i.src=n+"&jsonp="+u,a.appendChild(i);var l=function(e,t){c=!0,r&&"function"==typeof r&&(r(e,t),r=void 0),window[u]=void 0;try{delete window[u]}catch(n){}a.removeChild(i)}}(e,t)},t.POST=function(e,t){return"undefined"!=typeof fetch?l("POST",e,t):f()?d("POST",e,t):void t.reject("XHR POST not supported")},t.PUT=function(e,t){return"undefined"!=typeof fetch?l("PUT",e,t):f()?d("PUT",e,t):void t.reject("XHR PUT not supported")},t.DEL=function(e,t){return"undefined"!=typeof fetch?l("DELETE",e,t):f()?d("DELETE",e,t):void t.reject("XHR DELETE not supported")}},function(e,t,n){(function(e){!function(){"use strict";var t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(e){function r(){t(this,r);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return e.aborted=!1,e.onabort=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,e),n(r,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"dispatchEvent",this).call(this,e)}}]),r}(function(){function e(){t(this,e),this.listeners={}}return n(e,[{key:"addEventListener",value:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,o=n.length;r<o;r++)if(n[r]===t)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(e){var t=this;if(e.type in this.listeners){for(var n=function(n){setTimeout((function(){return n.call(t,e)}))},r=this.listeners[e.type],o=0,i=r.length;o<i;o++)n(r[o]);return!e.defaultPrevented}}}]),e}()),o=function(){function e(){t(this,e),this.signal=new r}return n(e,[{key:"abort",value:function(){var e=void 0;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?(e=document.createEvent("Event")).initEvent("abort",!1,!1):e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(o.prototype[Symbol.toStringTag]="AbortController",r.prototype[Symbol.toStringTag]="AbortSignal"),function(e){if(!e.AbortController)if(e.AbortController=o,e.AbortSignal=r,e.fetch){var t=function(e){"function"==typeof e&&(e={fetch:e});var t=e.fetch,n=e.Request,r=void 0===n?t.Request:n,i=e.AbortController,a=r;if(a){var s=new(void 0===i?o:i);if(new a("/",{signal:s.signal}).signal)return{fetch:t,Request:a};(a=function(e,t){var n=new r(e,t);return t&&t.signal&&(n.signal=t.signal),n}).prototype=r.prototype}var u=t;return{fetch:function(e,t){var n=a&&a.prototype.isPrototypeOf(e)?e.signal:t?t.signal:void 0;if(n){var r=void 0;try{r=new DOMException("Aborted","AbortError")}catch(i){(r=new Error("Aborted")).name="AbortError"}if(n.aborted)return Promise.reject(r);var o=new Promise((function(e,t){n.addEventListener("abort",(function(){return t(r)}),{once:!0})}));return Promise.race([o,u(e,t)])}return u(e,t)},Request:a}}(e),n=t.Request;e.fetch=t.fetch,e.Request=n}else console.warn("fetch() is not available, cannot install abortcontroller-polyfill")}("undefined"!=typeof self?self:e)}()}).call(this,n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=l;var i=c(n(1)),a=c(n(0));n(13),n(3);var s=n(7),u=n(6);function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return this.httpHandlers=t,(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof t)return this.config=o({api_key:void 0,method:e,params:{},url:t,headers:{Authorization:"","Content-type":"application/json","keen-sdk":"javascript-"+u.version}},n),this;if(t&&t.params&&(t.params=(0,s.mapKeysToUnderscore)(t.params)),"DELETE"===e){var r=t.url,i=r,a="",c=["filters","timeframe","timezone"];return c.forEach((function(e){if(t[e]){var n=t[e];try{n=JSON.parse(decodeURIComponent(t[e]))}catch(r){n=t[e]}Array.isArray(n)?n=(0,s.mapKeysToUnderscore)({vals:n}).vals:"string"!=typeof n&&(n=(0,s.mapKeysToUnderscore)(n)),a+=e+"="+encodeURIComponent(JSON.stringify(n))+"&"}})),-1===i.indexOf("?")&&(i+="?"),this.config=o({api_key:void 0,params:{},method:e,headers:{Authorization:t.api_key||t.apiKey,"Content-type":"application/json","keen-sdk":"javascript-"+u.version}},t,n,{url:i+=a}),this.send()}return this.config=o({api_key:void 0,params:{},method:e,headers:{Authorization:t.api_key||t.apiKey,"Content-type":"application/json","keen-sdk":"javascript-"+u.version}},t,n),this.send()}).bind(this)}l.prototype.auth=function(e){return"string"==typeof e&&(this.config.api_key="string"==typeof e?e:void 0,this.headers({Authorization:e})),this},l.prototype.headers=function(e){return"object"===(void 0===e?"undefined":r(e))&&(0,i.default)(e,(function(e,t){this.config.headers[t]=e}).bind(this)),this},l.prototype.timeout=function(e){return this.config.timeout="number"==typeof e?e:3e5,this},l.prototype.send=function(e){if(this.config&&!this.config.api_key&&!this.config.apiKey)throw new Error("Please provide a valid API key");e&&(this.config.params=e&&"object"===(void 0===e?"undefined":r(e))?(0,s.mapKeysToUnderscore)(e):{});var t=this.config.method;"DELETE"===t&&(t="DEL");var n=this.httpHandlers[t],o=(0,a.default)({},this.config);"DELETE"!==this.config.method&&void 0===o.params.analysis_type&&o.url.indexOf("/queries/")>-1&&o.url.indexOf("/saved/")<0&&(o.params.analysis_type=o.url.split("/queries/").pop());var i=void 0;"undefined"!=typeof AbortController&&(i=new AbortController);var u=void 0,c=new Promise((function(e,t){var r={};return i&&(r.signal=i.signal),r.resolve=e,r.reject=t,u=n(o,r)})).then((function(e){return e}));return c.abort=function(){if(i)return i.abort();u.emit("abort")},c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.validateAuthCredentials=function(e){if("object"===(void 0===e?"undefined":r(e))){if(!e.projectId)throw new Error("Please provide valid project ID");if(!e.masterKey&&!e.readKey)throw new Error("Please provide valid API key");return!0}}},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){e.exports=function(e){for(var t,n={},r=/\+/g,o=/([^&=]+)=?([^&]*)/g,i=function(e){return decodeURIComponent(e.replace(r," "))},a=e.split("?")[1];t=o.exec(a);)n[i(t[1])]=i(t[2]);return n}},function(e,t,n){(function(t){(function(t){var r,o=t.Keen||void 0,i=n(1),a=n(0),s=n(17),u=n(8),c=n(16);function l(e){if(this instanceof l==0)return new l(e);this.configure(e),l.debug&&this.on("error",l.log),this.emit("ready"),l.emit("client",this)}function f(e){return void 0!==e}o&&void 0===o.resources&&(l.legacyVersion=o),c(l),c(l.prototype),a(l,{debug:!1,enabled:!0,loaded:!1,version:"__VERSION__"}),l.helpers=l.helpers||{},a(l.resources=l.resources||{},{base:"{protocol}://{host}",version:"{protocol}://{host}/3.0",projects:"{protocol}://{host}/3.0/projects",projectId:"{protocol}://{host}/3.0/projects/{projectId}",events:"{protocol}://{host}/3.0/projects/{projectId}/events",queries:"{protocol}://{host}/3.0/projects/{projectId}/queries",datasets:"{protocol}://{host}/3.0/projects/{projectId}/datasets"}),a(l.utils=l.utils||{},{each:i,extend:a,parseParams:s,serialize:u}),l.extendLibrary=function(e,t){var n=o||t;return f(n)&&f(n.resources)&&(i(n,(function(t,n){"object"==typeof t?(e[n]=e[n]||{},a(e[n],t)):e[n]=e[n]||t})),a(e.prototype,n.prototype)),e},l.log=function(e){l.debug&&"object"==typeof console&&console.log("[Keen]",e)},l.noConflict=function(){return void 0!==t.Keen&&(t.Keen=l.legacyVersion||o),l},l.ready=function(e){l.loaded?e():l.once("ready",e)},l.prototype.configure=function(e){var t=e||{};return this.config=this.config||{projectId:void 0,writeKey:void 0,host:"api.keen.io",protocol:"https",requestType:"jsonp",resources:a({},l.resources)},"undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1&&(t.protocol=document.location.protocol.replace(":","")),t.host&&t.host.replace(/.*?:\/\//g,""),a(this.config,t),this},l.prototype.masterKey=function(e){return arguments.length?(this.config.masterKey=e?String(e):null,this):this.config.masterKey},l.prototype.projectId=function(e){return arguments.length?(this.config.projectId=e?String(e):null,this):this.config.projectId},l.prototype.resources=function(e){if(!arguments.length)return this.config.resources;var t=this;return"object"==typeof e&&i(e,(function(e,n){t.config.resources[n]=e||null})),t},l.prototype.url=function(e){var t,n=Array.prototype.slice.call(arguments,1),r=this.config.resources.base||"{protocol}://{host}";return t=e&&"string"==typeof e?this.config.resources[e]?this.config.resources[e]:r+e:r,i(this.config,(function(e,n){"object"!=typeof e&&(t=t.replace("{"+n+"}",e))})),i(n,(function(e,n){"string"==typeof e?t+="/"+e:"object"==typeof e&&(t+="?",i(e,(function(e,n){t+=n+"="+e+"&"})),t=t.slice(0,-1))})),t},r=function(){l.loaded=!0,l.emit("ready")},l.loaded||"undefined"==typeof document?r():(null==document.readyState&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",(function e(){document.removeEventListener("DOMContentLoaded",e,!1),document.readyState="complete"}),!1),document.readyState="loading"),function e(t){/in/.test(document.readyState)?setTimeout((function(){e(t)}),9):t()}(r)),e.exports=l}).call(this,"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{})}).call(this,n(2))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o,i,a,s,u=1,c={},l=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){h(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},r=function(e){i.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(h,0,e)},d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return c[u]=o,r(u),u++},d.clearImmediate=p}function p(e){delete c[e]}function h(e){if(l)setTimeout(h,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(2),n(19))},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(20),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeenAnalysis=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n(3);var i=f(n(18)),a=f(n(1)),s=f(n(0)),u=n(15),c=n(7),l=f(n(6));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.analysis=e,this.params={},this.set(t),this.options=r({},n)}i.default.prototype.readKey=function(e){return arguments.length?(this.config.readKey=e?String(e):null,this):this.config.readKey},i.default.prototype.query=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,u.validateAuthCredentials)(this.config);var i={a:(0,c.mapKeysToUnderscore)(e),b:(0,c.mapKeysToUnderscore)(t)},a=i.a,l=i.b;if("object"===(void 0===e?"undefined":o(e))&&!t){var f=i.a,p=f.analysis_type,h=f.cache,y=d(f,["analysis_type","cache"]);a=p,l=y;var v=this.config.cache;void 0!==h&&(v=h),n.cache=v}if(n.resultParsers=this.config.resultParsers,void 0===n.cache&&this.config.cache&&(n.cache=r({},this.config.cache)),"object"===(void 0===l?"undefined":o(l))&&(this.config.includeMetadata||this.config.include_metadata)&&(l.includeMetadata=!0),a&&l&&"string"==typeof l)return l.indexOf("/result")<0&&(l+="/result"),this.get({url:this.url("queries",a,l),api_key:this.config.readKey||this.config.masterKey},n);if(l&&l.saved_query_name){var m=l.saved_query_name.indexOf("/result")>-1?l.saved_query_name:l.saved_query_name+"/result";return this.get({url:this.url("queries","saved",m),api_key:this.config.readKey||this.config.masterKey},n)}if("dataset"===a&&"object"===(void 0===l?"undefined":o(l)))return this.get({url:this.url("datasets",l.name,"results"),api_key:this.config.readKey||this.config.masterKey,params:l},n);if(l&&l.dataset_name)return this.get({url:this.url("datasets",l.dataset_name,"results"),api_key:this.config.readKey||this.config.masterKey,params:l},n);if(a&&l&&"object"===(void 0===l?"undefined":o(l))){var b=(0,s.default)({analysis_type:a},l);return b.timezone||(b.timezone=-60*(new Date).getTimezoneOffset()),this.post({url:this.url("queries",a),api_key:this.config.readKey||this.config.masterKey,params:b},n)}return a&&"string"==typeof a&&!l?Promise.reject({error_code:"SDKError",message:".query() called with incorrect arguments"}):void 0},i.default.Query=p,i.default.prototype.run=function(e,t){var n=this,r=t,o=void 0,u=[];return(0,a.default)(e instanceof Array?e:[e],(function(e,t){var r;r="string"==typeof e?n.query("saved",e+"/result"):e instanceof i.default.Query?n.query(e.analysis,(0,s.default)({analysis_type:e.analysis},e.params),e.options):e,u.push(r)})),o=u.length>1?Promise.all(u):u[0],r&&(o.then((function(e){r(null,e)})),o.catch((function(e){r(e,null)}))),o},p.prototype.set=function(e){var t=this;return(0,a.default)(e,(function(e,n){var r=n,i=e;n.match(new RegExp("[A-Z]"))&&(r=n.replace(/([A-Z])/g,(function(e){return"_"+e.toLowerCase()}))),t.params[r]=i,i instanceof Array&&(0,a.default)(i,(function(e,n){e instanceof Array==0&&"object"===(void 0===e?"undefined":o(e))&&(0,a.default)(e,(function(e,o){if(o.match(new RegExp("[A-Z]"))){var i=o.replace(/([A-Z])/g,(function(e){return"_"+e.toLowerCase()}));delete t.params[r][n][o],t.params[r][n][i]=e}}))}))})),t},p.prototype.get=function(e){var t=e;if(t.match(new RegExp("[A-Z]"))&&(t=t.replace(/([A-Z])/g,(function(e){return"_"+e.toLowerCase()}))),this.params)return this.params[t]||null},p.prototype.addFilter=function(e,t,n){return this.params.filters=this.params.filters||[],this.params.filters.push({property_name:e,operator:t,property_value:n}),this},i.default.version=l.default.version;var h=t.KeenAnalysis=i.default;t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeenAnalysis=t.Keen=t.keenGlobals=void 0,a(n(0));var r=a(n(22)),o=a(n(14)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(12));function a(e){return e&&e.__esModule?e:{default:e}}r.default.prototype.get=new o.default("GET",i),r.default.prototype.post=new o.default("POST",i),r.default.prototype.put=new o.default("PUT",i),r.default.prototype.del=new o.default("DELETE",i),t.keenGlobals=void 0,"undefined"!=typeof webpackKeenGlobals&&(t.keenGlobals=webpackKeenGlobals);var s=t.Keen=r.default.extendLibrary(r.default);t.KeenAnalysis=s,t.default=s},function(e,t,n){e.exports=n(23)}])},e.exports=r()},xDfr:function(e,t,n){"use strict";n.r(t);var r,o=n("ofXK"),i=n("tyNb"),a=n("Tk1w"),s=n("2FTj"),u=n("fXoL"),c=[{path:"dashboard",loadChildren:function(){return Promise.all([n.e(1),n.e(2),n.e(0),n.e(12)]).then(n.bind(null,"XRCK")).then((function(e){return e.DashboardModule}))},canActivate:[a.a]},{path:"user/:userId/stats",loadChildren:function(){return Promise.all([n.e(0),n.e(21)]).then(n.bind(null,"0jGk")).then((function(e){return e.UserStatModule}))},canActivate:[a.a]},{path:"user/:userId",loadChildren:function(){return Promise.all([n.e(1),n.e(2),n.e(4),n.e(20)]).then(n.bind(null,"R5Mc")).then((function(e){return e.UserEditModule}))},canActivate:[a.a]},{path:"users/create",loadChildren:function(){return Promise.all([n.e(1),n.e(2),n.e(0),n.e(19)]).then(n.bind(null,"ATrY")).then((function(e){return e.UserCreateModule}))},canActivate:[a.a]},{path:"users",loadChildren:function(){return Promise.all([n.e(1),n.e(2),n.e(4),n.e(5),n.e(0),n.e(22)]).then(n.bind(null,"QYN6")).then((function(e){return e.UsersModule}))},canActivate:[a.a]},{path:"tournaments",loadChildren:function(){return Promise.all([n.e(1),n.e(18)]).then(n.bind(null,"JcD5")).then((function(e){return e.TournamentsModule}))},canActivate:[a.a]},{path:"countries",loadChildren:function(){return Promise.all([n.e(4),n.e(5),n.e(16)]).then(n.bind(null,"3afk")).then((function(e){return e.CountriesModule}))},canActivate:[a.a]},{path:"profile",loadChildren:function(){return Promise.all([n.e(1),n.e(2),n.e(17)]).then(n.bind(null,"TPKO")).then((function(e){return e.ProfileModule}))},canActivate:[s.a]},{path:"app-control",loadChildren:function(){return n.e(15).then(n.bind(null,"oK74")).then((function(e){return e.AppControlModule}))}},{path:"**",pathMatch:"full",redirectTo:"/admin/dashboard"}],l=((r=function e(){_classCallCheck(this,e)}).\u0275mod=u.Nb({type:r}),r.\u0275inj=u.Mb({factory:function(e){return new(e||r)},imports:[[i.e.forChild(c)],i.e]}),r),f=n("aVeI"),d=n("h7dw");n.d(t,"AdminModule",(function(){return h}));var p,h=((p=function e(){_classCallCheck(this,e)}).\u0275mod=u.Nb({type:p}),p.\u0275inj=u.Mb({factory:function(e){return new(e||p)},providers:[f.a,d.a],imports:[[o.c,l]]}),p)}}]);