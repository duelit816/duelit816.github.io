(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"86gd":function(e,t,i){"use strict";i.r(t);var s=i("ofXK"),n=i("tyNb"),r=i("SLWe"),o=i("Znnd"),c=i("2Vo4"),a=i("5yfJ"),u=i("PqYM"),l=i("JIr8"),d=i("5+tZ"),h=i("lJxs"),b=i("GJmQ"),p=i("fXoL"),g=i("Olgc"),m=i("qc5V");function f(e,t){1&e&&(p.Tb(0),p.Vb(1,"h3"),p.Lc(2,"Processing"),p.Ub(),p.Vb(3,"div",2),p.Qb(4,"span",3),p.Ub(),p.Sb())}function y(e,t){1&e&&(p.Vb(0,"h3"),p.Lc(1,"Cash out request saved successfully, please check your email."),p.Ub())}function w(e,t){if(1&e&&(p.Jc(0,y,2,0,"h3",4),p.Vb(1,"h3"),p.Lc(2),p.mc(3,"async"),p.Ub()),2&e){const e=p.lc();p.rc("ngIf",e.isSuccessful),p.Cb(2),p.Nc("Redirecting you to redeem page in ",p.nc(3,2,e.timer$),"")}}const P=[{path:"",component:(()=>{class e{constructor(e,t,i,s){this.route=e,this.router=t,this.toast=i,this.api=s,this.countdown=5,this.timer$=new c.a(this.countdown),this.isProcessing=!0,this.isSuccessful=!1}ngOnInit(){this.route.queryParams.subscribe(e=>{if(e.error)return this.redirectToRedeem(),void this.toast.error(e.error_description||e.error||"Error");this.api.get(o.e.GetPaypalUserInfo,{query:e}).pipe(Object(l.a)(e=>(this.toast.error("Error on getting Paypal information."),this.redirectToRedeem(),a.a)),Object(d.a)(e=>{const t=localStorage.getItem(r.a);return t?this.api.post(o.c.CashoutRequest,{body:{email:e.email,amount:t},opts:{addSecurity:!1}}):(this.toast.error("Couldn't fetch amount requested."),this.redirectToRedeem(),a.a)}),Object(l.a)(e=>(this.toast.error(`${e.data||e.error||JSON.stringify(e)}`),this.redirectToRedeem(),a.a))).subscribe(()=>{this.isSuccessful=!0,this.toast.show({textOrTpl:"Cash out request saved successfully, please check your email.",class:"success",dismissible:!0,delay:3e4}),localStorage.removeItem(r.a),this.redirectToRedeem()})})}redirectToRedeem(){this.isProcessing=!1,Object(u.a)(0,1e3).pipe(Object(h.a)(e=>this.countdown-e),Object(b.a)(e=>e>=0)).subscribe(e=>{this.timer$.next(e),e<=0&&(this.timer$.complete(),this.router.navigate(["/redeem"]))})}}return e.\u0275fac=function(t){return new(t||e)(p.Pb(n.a),p.Pb(n.b),p.Pb(g.a),p.Pb(m.a))},e.\u0275cmp=p.Jb({type:e,selectors:[["duelit-paypal"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["timer",""],[1,"spinner-container"],[1,"loading"],[4,"ngIf"]],template:function(e,t){if(1&e&&(p.Jc(0,f,5,0,"ng-container",0),p.Jc(1,w,4,4,"ng-template",null,1,p.Kc)),2&e){const e=p.zc(2);p.rc("ngIf",t.isProcessing)("ngIfElse",e)}},directives:[s.m],pipes:[s.b],styles:["[_nghost-%COMP%]{-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}[_nghost-%COMP%], [_nghost-%COMP%]   div.spinner-container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;height:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}[_nghost-%COMP%]   div.spinner-container[_ngcontent-%COMP%]{max-width:150px;max-height:150px;width:100%}[_nghost-%COMP%]   div.spinner-container[_ngcontent-%COMP%]   span.loading[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1;background-size:auto 100%;height:100%}"]}),e})()}];let O=(()=>{class e{}return e.\u0275mod=p.Nb({type:e}),e.\u0275inj=p.Mb({factory:function(t){return new(t||e)},imports:[[n.e.forChild(P)],n.e]}),e})();i.d(t,"PaypalModule",(function(){return x}));let x=(()=>{class e{}return e.\u0275mod=p.Nb({type:e}),e.\u0275inj=p.Mb({factory:function(t){return new(t||e)},imports:[[s.c,O]]}),e})()}}]);