function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{N8ez:function(e,n,t){"use strict";t.r(n);var a,c,o=t("ofXK"),i=t("3Pt+"),r=t("2Did"),l=t("tyNb"),u=t("2FTj"),s=t("SLWe"),b=t("vkgz"),f=t("UXun"),m=t("IzEk"),d=t("fXoL"),p=t("Znnd"),h=t("qc5V"),v=((a=function(){function e(n){_classCallCheck(this,e),this.api=n}return _createClass(e,[{key:"getCredits",value:function(){return this.api.get(p.c.Credits)}}]),e}()).\u0275fac=function(e){return new(e||a)(d.dc(h.a))},a.\u0275prov=d.Lb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),g=t("UdTj"),C=t("AytR"),y=((c=function(){function e(n){_classCallCheck(this,e),this.opened=new d.o,n.nativeElement.id="duelit-paypal",this.use()}return _createClass(e,[{key:"onClicked",value:function(e){this.opened.emit()}},{key:"use",value:function(){if(window.paypal)try{window.paypal.use(["login"],(function(e){e.render({appid:C.a.paypal.apiId,authend:C.a.paypal.environment,scopes:"email",containerid:"duelit-paypal",locale:"es-es",theme:"neutral",text:"Send Cash Out Request",fullPage:"true",returnurl:C.a.paypal.returnUrl})}))}catch(e){console.error(e)}else console.error("Paypal not found")}}]),e}()).\u0275fac=function(e){return new(e||c)(d.Pb(d.l))},c.\u0275dir=d.Kb({type:c,selectors:[["","duelitPaypal",""]],hostBindings:function(e,n){1&e&&d.hc("click",(function(e){return n.onClicked(e)}))},outputs:{opened:"opened"}}),c);function O(e,n){if(1&e&&(d.Vb(0,"span"),d.Lc(1," You will be credited a total of "),d.Vb(2,"span",8),d.Lc(3),d.mc(4,"number"),d.Ub(),d.Lc(5," USD "),d.Ub()),2&e){var t=d.lc(2);d.Cb(3),d.Nc("$ ",d.oc(4,1,t.reedemableValue(),"0.2-2"),"")}}function x(e,n){if(1&e&&(d.Vb(0,"div",11),d.Vb(1,"span"),d.Lc(2,"Insufficient Funds."),d.Ub(),d.Vb(3,"span"),d.Lc(4),d.Ub(),d.Ub()),2&e){var t=d.lc().$implicit,a=d.lc();d.Cb(4),d.Nc("You can only redeem ",a.maxReemableDollars(t.virtualAmount,t.coinsRateConversion)," or less")}}function k(e,n){1&e&&d.Qb(0,"div",13)}function w(e,n){if(1&e&&d.Jc(0,k,1,0,"div",12),2&e){var t=d.lc(2);d.rc("ngIf",t.cashOutForm.get("cashOutAmount").value>0&&t.reedemableValue()>0)}}function P(e,n){if(1&e&&(d.Tb(0),d.Vb(1,"duelit-panel",4),d.Vb(2,"div"),d.Lc(3),d.mc(4,"number"),d.Ub(),d.Vb(5,"div",5),d.Qb(6,"input",6),d.Ub(),d.Vb(7,"div"),d.Lc(8),d.mc(9,"number"),d.Ub(),d.Vb(10,"div"),d.Jc(11,O,6,4,"span",7),d.Vb(12,"span",8),d.Lc(13),d.mc(14,"number"),d.mc(15,"number"),d.mc(16,"number"),d.Ub(),d.Ub(),d.Vb(17,"div"),d.Vb(18,"span"),d.Lc(19," Redeemable for "),d.Vb(20,"span",8),d.Lc(21),d.mc(22,"number"),d.Ub(),d.Ub(),d.Ub(),d.Jc(23,x,5,1,"div",9),d.Jc(24,w,1,1,"ng-template",null,10,d.Kc),d.Ub(),d.Sb()),2&e){var t=n.$implicit,a=d.zc(25),c=d.lc();d.Cb(3),d.Oc(" ",t.virtualAmount," coins = $ ",d.oc(4,12,c.maxReemableDollars(t.virtualAmount,t.coinsRateConversion),"0.2-2")," USD "),d.Cb(2),d.rc("formGroup",c.cashOutForm),d.Cb(1),d.rc("max",c.maxReemableDollars(t.virtualAmount,t.coinsRateConversion)),d.Cb(2),d.Nc(" Paypals transaction fee $ ",d.oc(9,15,c.transactionFee(),"0.2-2")," USD "),d.Cb(3),d.rc("ngIf",c.reedemableValue()>0&&c.cashOutForm.get("cashOutAmount").value<=c.maxReemableDollars(t.virtualAmount,t.coinsRateConversion)),d.Cb(2),d.Pc(" $",d.oc(14,18,c.cashOutForm.get("cashOutAmount").value,"0.2-2")," - $",d.oc(15,21,c.transactionFee(),"0.2-2")," = $",d.oc(16,24,c.reedemableValue(),"0.2-2")," "),d.Cb(8),d.Nc("",d.oc(22,27,c.coinsToDeduct(),"0.0-0")," coins"),d.Cb(2),d.rc("ngIf",c.cashOutForm.get("cashOutAmount").value>c.maxReemableDollars(t.virtualAmount,t.coinsRateConversion))("ngIfElse",a)}}function _(e,n){1&e&&(d.Vb(0,"duelit-panel"),d.Lc(1," Getting coins data... "),d.Ub())}var U,V,A=[{path:"",component:(U=function(){function e(n,t){_classCallCheck(this,e),this.creditsService=n,this.fb=t}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.credits$=this.creditsService.getCredits().pipe(Object(b.a)((function(n){e.credits=n,e.cashOutForm=e.fb.group({cashOutAmount:new i.d(0,[i.s.max(e.maxReemableDollars(n.virtualAmount,n.coinsRateConversion)),i.s.pattern(/^[0-9]*$/)])}),e.cashOutForm.get("cashOutAmount").valueChanges.subscribe((function(e){return localStorage.setItem(s.a,e)}))})),Object(f.a)(1),Object(m.a)(1))}},{key:"maxReemableDollars",value:function(e,n){return Math.floor(e*n)}},{key:"transactionFee",value:function(){var e=this.cashOutForm.get("cashOutAmount").value;return e<35?1:e>=35?Math.round(2.9*e)/100:0}},{key:"reedemableValue",value:function(){return this.cashOutForm.get("cashOutAmount").value-this.transactionFee()}},{key:"coinsToDeduct",value:function(){var e=this.cashOutForm.get("cashOutAmount").value;return Math.ceil(e/this.credits.coinsRateConversion)}}]),e}(),U.\u0275fac=function(e){return new(e||U)(d.Pb(v),d.Pb(i.c))},U.\u0275cmp=d.Jb({type:U,selectors:[["duelit-redeem"]],decls:7,vars:4,consts:[[1,"flex-grow"],[1,"flex-align-center"],[4,"ngIf","ngIfElse"],["loading",""],["head","Cash Out Request"],[1,"form-group",3,"formGroup"],["type","number","formControlName","cashOutAmount","step","1","min","0",1,"form-control","custom",3,"max"],[4,"ngIf"],[1,"cash"],["class","error flex-align-center",4,"ngIf","ngIfElse"],["paypal",""],[1,"error","flex-align-center"],["duelitPaypal","",4,"ngIf"],["duelitPaypal",""]],template:function(e,n){if(1&e&&(d.Qb(0,"div",0),d.Vb(1,"div",1),d.Jc(2,P,26,30,"ng-container",2),d.mc(3,"async"),d.Jc(4,_,2,0,"ng-template",null,3,d.Kc),d.Ub(),d.Qb(6,"div",0)),2&e){var t=d.zc(5);d.Cb(2),d.rc("ngIf",d.nc(3,2,n.credits$))("ngIfElse",t)}},directives:[o.n,g.a,i.m,i.g,i.p,i.b,i.l,i.f,y],pipes:[o.b,o.f],styles:[".cash[_ngcontent-%COMP%]{color:#4093f7}[_nghost-%COMP%]{align-content:center;-webkit-box-pack:center;justify-content:center;width:100%;height:100%;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}[_nghost-%COMP%]   duelit-panel[_ngcontent-%COMP%]{max-width:720px;width:100%}[_nghost-%COMP%]   duelit-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;margin:15px}[_nghost-%COMP%]   .flex-align-center[_ngcontent-%COMP%], [_nghost-%COMP%]   duelit-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{-webkit-box-pack:center;justify-content:center}.error.flex-align-center[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}"],changeDetection:0}),U),canActivate:[u.a]}],M=((V=function e(){_classCallCheck(this,e)}).\u0275mod=d.Nb({type:V}),V.\u0275inj=d.Mb({factory:function(e){return new(e||V)},imports:[[l.e.forChild(A)],l.e]}),V);t.d(n,"RedeemModule",(function(){return I}));var R,I=((R=function e(){_classCallCheck(this,e)}).\u0275mod=d.Nb({type:R}),R.\u0275inj=d.Mb({factory:function(e){return new(e||R)},imports:[[o.c,M,r.a,i.q]]}),R)}}]);