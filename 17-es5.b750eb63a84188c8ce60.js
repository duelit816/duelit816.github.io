function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_superPropBase(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],i=!0,a=!1,r=void 0;try{for(var c,o=e[Symbol.iterator]();!(i=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);i=!0);}catch(s){a=!0,r=s}finally{try{i||null==o.return||o.return()}finally{if(a)throw r}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{XRCK:function(e,t,n){"use strict";n.r(t);var i,a,r,c,o,s,l=n("ofXK"),u=n("3Pt+"),d=n("1kSV"),p=n("ftNi"),b=n("fXoL"),f=((c=function e(){_classCallCheck(this,e)}).\u0275mod=b.Nb({type:c}),c.\u0275inj=b.Mb({factory:function(e){return new(e||c)},imports:[[l.c]]}),c),m=((r=function e(){_classCallCheck(this,e)}).\u0275mod=b.Nb({type:r}),r.\u0275inj=b.Mb({factory:function(e){return new(e||r)},imports:[[l.c,f]]}),r),g=((a=function e(){_classCallCheck(this,e)}).\u0275mod=b.Nb({type:a}),a.\u0275inj=b.Mb({factory:function(e){return new(e||a)},imports:[[l.c]]}),a),y=((i=function e(){_classCallCheck(this,e)}).\u0275mod=b.Nb({type:i}),i.\u0275inj=b.Mb({factory:function(e){return new(e||i)},imports:[[l.c,g]]}),i),h=n("S48G"),v=n("geAU"),C=n("tyNb"),k=n("Znnd"),T=n("wd/R"),O=n("XNiG"),S=n("2Vo4"),_=n("LRne"),w=n("1G5W"),P=n("JIr8"),I=n("lJxs"),$=n("5+tZ"),E=n("SLWe"),A=n("YGOX"),U=n("qc5V"),j=n("aVeI"),x=n("lbBO"),V=n("BamM"),D=n("J+vq"),F=n("h7dw"),R=((s=function(){function e(t,n,i){_classCallCheck(this,e),this.el=t,this.renderer=n,this.keen=i,this.viewInit=!1,this.loading=!0}return _createClass(e,[{key:"ngOnInit",value:function(){this.renderer.addClass(this.el.nativeElement,"duelit-keen-data")}},{key:"ngOnChanges",value:function(){this.query&&this.viewInit&&(this.el.nativeElement.innerHTML='<span class="duelit-keen-data loading"></span>',this.doQuery())}},{key:"doQuery",value:function(){var e=this;if(this.el.nativeElement.innerHTML='<span class="duelit-keen-data loading"></span>',this.chart=new D.Dataviz({container:".".concat(this.duelitkeenname),title:"metric"===this.viewType&&this.title,type:this.viewType,legend:{pagination:{limit:10}},labelMapping:{Regular:"Challenge",Open:"Tournament","Practice game":"Practice"}}),this.query.eventCollection instanceof Array){var t=[];this.query.eventCollection.forEach((function(n){t.push(e.keen.query(e.queryType,{eventCollection:n,timeframe:e.query.timeframe,timezone:"UTC"}))})),this.keen.run(t).then((function(t){var n=[];n.push({type:"Accepted",result:t[1].result},{type:"Rejected",result:t[0].result-t[1].result}),e.chart.render({query:{timeframe:e.query.timeframe,timezone:"UTC"},result:n})}))}else this.loading=!0,this.keen.query(this.queryType,this.query).then((function(t){setTimeout((function(){e.isCombined&&e.apiResult?(t.result=[t.result.find((function(e){return"Practice game"===e["Game.type"]}))],e.apiResult.subscribe((function(n){n.forEach((function(e){t.result.push({"Game.type":e.type,result:e.count})})),e.chart.render(t)}))):e.chart.render(t)})),e.loading=!1})).catch((function(t){setTimeout((function(){e.chart.message(t.message)})),e.loading=!1}))}},{key:"ngAfterViewInit",value:function(){this.viewInit=!0,this.doQuery()}}]),e}()).\u0275fac=function(e){return new(e||s)(b.Pb(b.l),b.Pb(b.F),b.Pb(F.a))},s.\u0275dir=b.Kb({type:s,selectors:[["","duelitKeenData",""]],inputs:{duelitkeenname:"duelitkeenname",viewType:"viewType",queryType:"queryType",query:"query",title:"title",isCombined:"isCombined",apiResult:"apiResult"},features:[b.Ab()]}),s),q=((o=function(){function e(){_classCallCheck(this,e),this.loading=!0,this.viewInit=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=b.Jb({type:o,selectors:[["duelit-keen"]],inputs:{title:"title",keenName:"keenName",viewType:"viewType",queryType:"queryType",query:"query",subTitle:"subTitle",isCombined:"isCombined",apiResult:"apiResult"},decls:3,vars:11,consts:[["duelitKeenData","",1,"duelit-keen-data",3,"duelitkeenname","viewType","queryType","query","title","ngClass","isCombined","apiResult"]],template:function(e,t){1&e&&(b.Vb(0,"h6"),b.Lc(1),b.Ub(),b.Qb(2,"div",0)),2&e&&(b.Cb(1),b.Mc(t.title),b.Cb(1),b.Hb("metric","metric"===t.viewType),b.rc("duelitkeenname",t.keenName)("viewType",t.viewType)("queryType",t.queryType)("query",t.query)("title",t.subTitle)("ngClass",t.keenName)("isCombined",t.isCombined)("apiResult",t.apiResult))},directives:[R,l.l],styles:["[_nghost-%COMP%]   .duelit-keen-data[_ngcontent-%COMP%]{height:250px;width:auto;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}[_nghost-%COMP%]   .duelit-keen-data[_ngcontent-%COMP%]     span.loading{height:120px;width:120px;background-size:120px 120px}[_nghost-%COMP%]   .duelit-keen-data.metric[_ngcontent-%COMP%]{height:unset}"]}),o),L=n("Jx61");function J(e,t){1&e&&b.Qb(0,"duelit-keen-api",9),2&e&&b.rc("keenApiInput",t.$implicit)}function M(e,t){if(1&e&&(b.Tb(0),b.Jc(1,J,1,1,"duelit-keen-api",8),b.Sb()),2&e){var n=t.$implicit;b.Cb(1),b.rc("ngForOf",n)}}function Q(e,t){if(1&e&&b.Qb(0,"duelit-keen",10),2&e){var n=t.$implicit,i=b.lc();b.rc("title",n.title)("keenName",n.keenname)("viewType",n.viewType)("queryType",n.queryType)("query",n.query)("isCombined",n.isCombined)("apiResult",i.tournamentCountPerType$)}}function N(e,t){1&e&&b.Qb(0,"duelit-keen-api",12),2&e&&b.rc("keenApiInput",t.$implicit)}function G(e,t){if(1&e&&(b.Tb(0),b.Jc(1,N,1,1,"duelit-keen-api",11),b.Sb()),2&e){var n=t.$implicit;b.Cb(1),b.rc("ngForOf",n)}}function B(e,t){1&e&&b.Qb(0,"duelit-keen-api",12),2&e&&b.rc("keenApiInput",t.$implicit)}function H(e,t){if(1&e&&(b.Tb(0),b.Jc(1,B,1,1,"duelit-keen-api",11),b.Sb()),2&e){var n=t.$implicit;b.Cb(1),b.rc("ngForOf",n)}}function W(e,t){1&e&&b.Qb(0,"duelit-keen-api",12),2&e&&b.rc("keenApiInput",t.$implicit)}function z(e,t){if(1&e&&(b.Tb(0),b.Jc(1,W,1,1,"duelit-keen-api",11),b.Sb()),2&e){var n=t.$implicit;b.Cb(1),b.rc("ngForOf",n)}}function Y(e,t){1&e&&b.Qb(0,"duelit-metric",14),2&e&&b.rc("metric",t.$implicit)}function K(e,t){if(1&e&&(b.Tb(0),b.Jc(1,Y,1,1,"duelit-metric",13),b.Sb()),2&e){var n=t.$implicit;b.Cb(1),b.rc("ngForOf",n)}}function X(e,t){if(1&e&&(b.Tb(0),b.Qb(1,"duelit-keen-api",15),b.Sb()),2&e){var n=b.lc();b.Cb(1),b.rc("keenApiInput",n.challengeRatioStats$)}}function Z(e,t){if(1&e){var n=b.Wb();b.Vb(0,"duelit-metric",17),b.hc("click",(function(){b.Cc(n);var e=t.$implicit;return b.lc(2).openUsersSignup(e)})),b.Ub()}2&e&&b.rc("metric",t.$implicit)}function ee(e,t){if(1&e&&(b.Tb(0),b.Jc(1,Z,1,1,"duelit-metric",16),b.Sb()),2&e){var n=t.$implicit;b.Cb(1),b.rc("ngForOf",n)}}function te(e,t){if(1&e&&(b.Tb(0),b.Qb(1,"duelit-keen-api",9),b.Sb()),2&e){var n=b.lc();b.Cb(1),b.rc("keenApiInput",n.signupRatioStats$)}}function ne(e,t){if(1&e&&b.Qb(0,"duelit-keen",18),2&e){var n=t.$implicit;b.rc("title",n.title)("keenName",n.keenname)("viewType",n.viewType)("queryType",n.queryType)("query",n.query)}}function ie(e,t){if(1&e&&b.Qb(0,"duelit-keen",18),2&e){var n=t.$implicit;b.rc("title",n.title)("keenName",n.keenname)("viewType",n.viewType)("queryType",n.queryType)("query",n.query)}}function ae(e,t){if(1&e&&(b.Tb(0),b.Qb(1,"duelit-metric",19),b.Sb()),2&e){var n=b.lc();b.Cb(1),b.rc("metric",n.dynamicEntryFeeTotal$)}}function re(e,t){if(1&e&&(b.Tb(0),b.Qb(1,"duelit-keen-api",9),b.Sb()),2&e){var n=b.lc();b.Cb(1),b.rc("keenApiInput",n.groupedDynamicEntryFeeStats$)}}function ce(e,t){if(1&e&&(b.Tb(0),b.Qb(1,"duelit-keen-api",9),b.Sb()),2&e){var n=b.lc();b.Cb(1),b.rc("keenApiInput",n.dynamicEntryFeeAccepted$)}}function oe(e,t){if(1&e&&(b.Tb(0),b.Qb(1,"duelit-keen-api",20),b.Sb()),2&e){var n=b.lc();b.Cb(1),b.rc("keenApiInput",n.dynamicEntryFeeSentVsNormal$)}}function se(e,t){if(1&e&&(b.Tb(0),b.Qb(1,"duelit-keen-api",20),b.Sb()),2&e){var n=b.lc();b.Cb(1),b.rc("keenApiInput",n.dynamicEntryFeeAcceptedVsNormal$)}}function le(e,t){1&e&&b.Qb(0,"duelit-keen-api",9),2&e&&b.rc("keenApiInput",t.$implicit)}function ue(e,t){if(1&e&&(b.Tb(0),b.Jc(1,le,1,1,"duelit-keen-api",8),b.Sb()),2&e){var n=t.$implicit;b.Cb(1),b.rc("ngForOf",n)}}function de(e,t){if(1&e){var n=b.Wb();b.Vb(0,"duelit-metric",17),b.hc("click",(function(){return b.Cc(n),b.lc(2).openActiveUsers()})),b.Ub()}2&e&&b.rc("metric",t.$implicit)}function pe(e,t){if(1&e&&(b.Tb(0),b.Jc(1,de,1,1,"duelit-metric",16),b.Sb()),2&e){var n=t.$implicit;b.Cb(1),b.rc("ngForOf",n)}}function be(e,t){if(1&e){var n=b.Wb();b.Vb(0,"duelit-metric",17),b.hc("click",(function(){return b.Cc(n),b.lc(2).openUsersByBanned()})),b.Ub()}2&e&&b.rc("metric",t.$implicit)}function fe(e,t){if(1&e&&(b.Tb(0),b.Jc(1,be,1,1,"duelit-metric",16),b.Sb()),2&e){var n=t.$implicit;b.Cb(1),b.rc("ngForOf",n)}}function me(e,t){if(1&e){var n=b.Wb();b.Vb(0,"duelit-metric",17),b.hc("click",(function(){b.Cc(n);var e=t.$implicit;return b.lc(2).openConvertedUsers(e.type)})),b.Ub()}2&e&&b.rc("metric",t.$implicit)}function ge(e,t){if(1&e&&(b.Tb(0),b.Jc(1,me,1,1,"duelit-metric",16),b.Sb()),2&e){var n=t.$implicit;b.Cb(1),b.rc("ngForOf",n)}}function ye(e,t){if(1&e&&(b.Tb(0),b.Qb(1,"duelit-keen-api",9),b.Sb()),2&e){var n=b.lc();b.Cb(1),b.rc("keenApiInput",n.txnOnInsufficientFundsRatio$)}}function he(e,t){1&e&&(b.Vb(0,"div",21),b.Qb(1,"span",22),b.Ub())}var ve,Ce=T().subtract(6,"days").format(E.c),ke=T().format(E.c),Te=((ve=function(){function e(t,n,i,a){_classCallCheck(this,e),this.api=t,this.dashboardDate=n,this.router=i,this.numberPipe=a,this.gamesQueries=[{title:"Daily Games",keenname:"daily-games",viewType:"line",queryType:"count",query:{eventCollection:"Game played",groupBy:"Game.name",timeframe:{start:Ce,end:ke},interval:"daily",filters:[{property_name:"Game.name",operator:"ne",property_value:null}]}},{title:"Games Per Type",keenname:"games-per-type",viewType:"pie",queryType:"count",query:{eventCollection:"Game played",groupBy:"Game.type",timeframe:{start:Ce,end:ke}},isCombined:!0}],this.engagement1Queries=[{title:"Total Challenges",keenname:"challenges-total",viewType:"metric",queryType:"count",query:{eventCollection:"Challenge created",timeframe:{start:Ce,end:ke}}},{title:"Accepted Challenges",keenname:"challenges-accepted",viewType:"metric",queryType:"count",query:{eventCollection:"Challenge accepted",timeframe:{start:Ce,end:ke}}},{title:"Challenge Ratio",keenname:"challenge-ratio",viewType:"pie",queryType:"count",query:{eventCollection:["Challenge created","Challenge accepted"],timeframe:{start:Ce,end:ke}}}],this.engagement3Queries=[{title:"Total App Launched",keenname:"app-launced-total",viewType:"metric",queryType:"count",query:{eventCollection:"App launched",timeframe:{start:Ce,end:ke}}}],this.engagement4Queries=[{title:"Games Per OS",keenname:"games-per-os",viewType:"pie",queryType:"count",query:{eventCollection:"Game played",groupBy:"Device.OS",timeframe:{start:Ce,end:ke},filters:[{property_name:"Device.OS",operator:"exists",property_value:!0}]}}],this.engagement5Queries=[{title:"Dynamic Entry Fee Total",keenname:"dynamic-entry-fee-total",viewType:"metric",queryType:"count",query:{eventCollection:"Dynamic entry fee total",timeframe:{start:Ce,end:ke}}},{title:"Grouped Entry Fee Count",keenname:"dynamic-entry-fee-grouped",viewType:"pie",queryType:"count",query:{eventCollection:["Dynamic entry fee total"],timeframe:{start:Ce,end:ke}}}],this.signupRatioStats$={title:"Signup Ratio",classSelector:"signup-ratio",viewType:"pie"},this.challengeRatioStats$={title:"Challenge Ratio",classSelector:"challenge-ratio",viewType:"pie"},this.groupedDynamicEntryFeeStats$={title:"Grouped Entry Fee Count",classSelector:"dynamic-entry-fee-grouped",viewType:"pie"},this.dynamicEntryFeeAccepted$={title:"Dynamic Entry Fee Accepted",classSelector:"dynamic-entry-fee-accepted",viewType:"pie"},this.dynamicEntryFeeSentVsNormal$={title:"Dynamic Entry Fee Sent Vs Normal",classSelector:"dynamic-entry-fee-sent-vs-normal",viewType:"pie"},this.dynamicEntryFeeAcceptedVsNormal$={title:"Dynamic Entry Fee Accepted Vs Normal",classSelector:"dynamic-entry-fee-accepted-vs-normal",viewType:"pie"},this.txnOnInsufficientFundsRatio$={title:"Transaction on Insufficient Funds",classSelector:"txn-on-insufficient-funds-ratio",viewType:"pie"},this.ngUnsubscribe=new O.a,this.FAILED_TO_RETRIEVE="-"}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.rangeDate=new u.d(this.dashboardDate.range),this.rangeDate.valueChanges.pipe(Object(w.a)(this.ngUnsubscribe)).subscribe((function(t){e.dashboardDate.range=t})),this.date$=new S.a(this.dashboardDate.range),this.date$.pipe(Object(w.a)(this.ngUnsubscribe)).subscribe((function(t){var n=t.from,i=t.to,a=T().year(n.year).month(n.month-1).date(n.day).format(E.c),r=T().year(i.year).month(i.month-1).date(i.day).format(E.c);e.getRevenueStats(a,r),e.getSignupTypeStats(a,r),e.getSignupCountStats(a,r),e.getSignupRatioStats(),e.getActiveUsersStats(a,r),e.getChallengeStats(a,r),e.getDynamicEntryFeeStats(a,r),e.getTxnOnInsufficientFunds(a,r),e.getCreatedChallengePerHrStats(a,r),e.getCompletedChallengePerHrStats(a,r),e.getCompletedTournamentPerHrStats(a,r),e.getTournamentCountPerType(a,r),e.getChallengeRatioStats(),e.getGroupedDynamicEntryFeeStats(),e.getTxnOnInsufficientFundsRatio(),e.getUserStats(a,r),e.updateQueries(e.engagement1Queries,a,r),e.updateQueries(e.engagement3Queries,a,r),e.updateQueries(e.engagement4Queries,a,r),e.updateQueries(e.gamesQueries,a,r)}))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.date$.complete()}},{key:"getRevenueStats",value:function(e,t){this.revenueStats$=this.api.get(k.a.RevenueStats,{query:{start_date:T(e).format(E.c),end_date:T(t).format(E.c)}}).pipe(Object(P.a)((function(e){return Object(_.a)([])})),Object(I.a)((function(e){var t=[],n=[];e.length&&(n=[{type:"Duelit",result:e.reduce((function(e,t){return e+t.duelit_revenue}),0)},{type:"Player",result:e.reduce((function(e,t){return e+t.player_revenue}),0)}]),t.push({title:"Revenue Generated",classSelector:"revenue1",viewType:"bar",data:n}),t.push({title:"Revenue Generated (Percentage)",classSelector:"revenue2",viewType:"pie",data:n});var i={title:"Revenue by Game (Duelit)",classSelector:"revenue3",viewType:"pie",data:e.map((function(e){return{type:e.game,result:e.duelit_revenue}}))};return t.push(i),t})))}},{key:"getSignupTypeStats",value:function(e,t){this.signupTypeStats$=this.api.get(k.e.SignupType,{query:{start_date:T(e).format(E.c),end_date:T(t).format(E.c)}}).pipe(Object(P.a)((function(e){return Object(_.a)([])})),Object(I.a)((function(e){var t=[];return"0"===e.facebook&&"0"===e.apple&&"0"===e.email||Object.keys(e).forEach((function(n){t.push({type:n.charAt(0).toUpperCase()+n.slice(1),result:e[n]})})),[{title:"Signup Type",classSelector:"signup-type",viewType:"pie",data:t}]})))}},{key:"getSignupCountStats",value:function(e,t){var n=this;this.signupCountStats$=this.api.get(k.e.SignupCount,{query:{start_date:T(e).format(E.c),end_date:T(t).format(E.c)}}).pipe(Object(P.a)((function(e){return Object(_.a)([])})),Object(I.a)((function(e){return[{name:E.b.SignupCount,title:"Total Sign Ups",subTitle:"Count - Sign up",data:n.numberPipe.transform(e.signups)},{name:E.b.ActivatedSignupCount,title:"Total Activated Sign Ups",subTitle:"Count - Sign up activated",data:n.numberPipe.transform(e.activated)}]})))}},{key:"getSignupRatioStats",value:function(){var e=this;this.signupCountStats$.subscribe((function(t){var n=0;t[0].data&&t[1].data&&(n=t[0].data.replace(/,/g,"")-t[1].data.replace(/,/g,""));var i=[{type:"Activated",result:t[1].data?t[1].data.replace(/,/g,""):0},{type:"Pending",result:n}];e.signupRatioStats$={title:"Signup Ratio",classSelector:"signup-ratio",viewType:"pie",data:i}}))}},{key:"getActiveUsersStats",value:function(e,t){this.activeUsersStats$=this.api.get(k.e.ActiveUsersStats,{query:{start_date:T(e).format(E.c),end_date:T(t).format(E.c)}}).pipe(Object(P.a)((function(e){return Object(_.a)([])})),Object(I.a)((function(e){return[{title:"Active Users",subTitle:"Count - Active Users",data:e.active_users_count}]})))}},{key:"getChallengeStats",value:function(e,t){var n=this;this.challengeStats$=this.api.get(k.d.ChallengeStats,{query:{start_date:T(e).format(E.c),end_date:T(t).format(E.c)}}).pipe(Object(P.a)((function(e){return Object(_.a)([])})),Object(I.a)((function(e){return[{title:"Cancelled",subTitle:"Cancelled Challenges",data:e.cancelled?n.numberPipe.transform(e.cancelled):0},{title:"Completed",subTitle:"Completed Challenges",data:e.completed?n.numberPipe.transform(e.completed):0},{title:"Sent",subTitle:"Total Sent Challenges",data:n.numberPipe.transform((parseInt(e.cancelled)||0)+(parseInt(e.completed)||0))}]})))}},{key:"getDynamicEntryFeeStats",value:function(e,t){var n=this;this.dynamicEntryFeeStats$=this.api.get(k.a.DynamicEntryFeeStats,{query:{start_date:T(e).format(E.c),end_date:T(t).format(E.c)}}).pipe(Object(P.a)((function(e){return Object(_.a)([])})),Object(I.a)((function(e){var t=Object.values(e).reduce((function(e,t){return e+(+(t.Cancelled||0)+ +(t.Ended||0))}),0);return n.dynamicEntryFeeTotal$={title:"Dynamic Entry Fee Total",subTitle:"Total User Count",data:t?n.numberPipe.transform(t):0,class:"dynamic-entry-fee-total"},e})))}},{key:"getGroupedDynamicEntryFeeStats",value:function(){var e=this;this.dynamicEntryFeeStats$.subscribe((function(t){var n=[],i=0,a=0;Object.entries(t).forEach((function(e){var t=_slicedToArray(e,2),r=t[0],c=t[1];n.push({type:r,result:+(c.Cancelled||0)+ +(c.Ended||0)}),c.Ended&&(i+=+c.Ended),c.Cancelled&&(a+=+c.Cancelled)})),e.groupedDynamicEntryFeeStats$={title:"Grouped Entry Fee Count",classSelector:"dynamic-entry-fee-grouped",viewType:"pie",data:n},e.dynamicEntryFeeAccepted$={title:"Dynamic Entry Fee Accepted",classSelector:"dynamic-entry-fee-accepted",viewType:"pie",data:[{type:"Accepted",result:i},{type:"Cancelled",result:a}]},e.challengeStats$.subscribe((function(t){var n,r,c,o,s=i+a,l=null!=(r=null===(n=t[2].data)||void 0===n?void 0:n.replace(/,/g,""))?r:0,u=null!=(o=null===(c=t[1].data)||void 0===c?void 0:c.replace(/,/g,""))?o:0;e.dynamicEntryFeeSentVsNormal$={title:"Dynamic Entry Fee Sent Vs Normal",classSelector:"dynamic-entry-fee-sent-vs-normal",viewType:"pie",data:[{type:"Sent Dynamic",result:s},{type:"Sent Normal",result:+l-s}]},e.dynamicEntryFeeAcceptedVsNormal$={title:"Dynamic Entry Fee Accepted Vs Normal",classSelector:"dynamic-entry-fee-accepted-vs-normal",viewType:"pie",data:[{type:"Accepted Dynamic",result:i},{type:"Accepted Normal",result:+u-i}]}}))}))}},{key:"getTxnOnInsufficientFunds",value:function(e,t){var n=this,i=this.api.buildPath(k.e.UsersByConverted,["converted"]);this.txnOnInsufficientFunds$=this.api.get(i,{query:{start_date:T(e).format(E.c),end_date:T(t).format(E.c)}}).pipe(Object(P.a)((function(e){return Object(_.a)([])})),Object($.a)((function(i){var a=n.api.buildPath(k.e.UsersByConverted,["churned"]);return n.api.get(a,{query:{start_date:T(e).format(E.c),end_date:T(t).format(E.c)}}).pipe(Object(P.a)((function(e){return Object(_.a)([])})),Object(I.a)((function(e){return[{title:"Users Converted when Coins Ran Out",subTitle:"Count",type:"converted",data:i.totalCount?n.numberPipe.transform(i.totalCount):0},{title:"Users Churned when Coins Ran Out",subTitle:"Count",type:"churned",data:e.totalCount?n.numberPipe.transform(e.totalCount):0}]})))})))}},{key:"getCreatedChallengePerHrStats",value:function(e,t){this.createdChallengePerHrStats$=this.api.get(k.d.TournamentPerHrStats,{query:{start_date:T(e).format(E.c),end_date:T(t).format(E.c)}}).pipe(Object(P.a)((function(e){return Object(_.a)([])})),Object(I.a)((function(e){var t=[];if(e&&Object.keys(e)&&Object.keys(e).length)for(var n=0;n<24;n++)t.push({type:n,count:e[n]||0});return[{title:"Created Challenge",classSelector:"total-challenge-sent",viewType:"line",xAxisLabel:"Hour of day (in UTC)",yAxisLabel:"Count",data:t}]})))}},{key:"getCompletedChallengePerHrStats",value:function(e,t){this.completedChallengePerHrStats$=this.api.get(k.d.TournamentPerHrStats,{query:{status:"Ended",start_date:T(e).format(E.c),end_date:T(t).format(E.c)}}).pipe(Object(P.a)((function(e){return Object(_.a)([])})),Object(I.a)((function(e){var t=[];if(e&&Object.keys(e)&&Object.keys(e).length)for(var n=0;n<24;n++)t.push({type:n,count:e[n]||0});return[{title:"Completed Challenge",classSelector:"total-challenge-Completed",viewType:"line",xAxisLabel:"Hour of day (in UTC)",yAxisLabel:"Count",data:t}]})))}},{key:"getCompletedTournamentPerHrStats",value:function(e,t){this.completedTournamentPerHrStats$=this.api.get(k.d.TournamentPerHrStats,{query:{type:"open",status:"Ended",start_date:T(e).format(E.c),end_date:T(t).format(E.c)}}).pipe(Object(P.a)((function(e){return Object(_.a)([])})),Object(I.a)((function(e){var t=[];if(e&&Object.keys(e)&&Object.keys(e).length)for(var n=0;n<24;n++)t.push({type:n,count:e[n]||0});return[{title:"Completed Tournament",classSelector:"total-tournament-completed",viewType:"line",xAxisLabel:"Hour of day (in UTC)",yAxisLabel:"Count",data:t}]})))}},{key:"getTournamentCountPerType",value:function(e,t){this.tournamentCountPerType$=this.api.get(k.d.TournamentCountPerType,{query:{start_date:T(e).format(E.c),end_date:T(t).format(E.c)}}).pipe(Object(P.a)((function(e){return Object(_.a)([])})))}},{key:"getChallengeRatioStats",value:function(){var e=this;this.challengeStats$.subscribe((function(t){var n=[{type:"Cancelled",result:t[0].data?t[0].data.replace(/,/g,""):0},{type:"Completed",result:t[1].data?t[1].data.replace(/,/g,""):0}];e.challengeRatioStats$={title:"Challenge Ratio",classSelector:"challenge-ratio",viewType:"pie",data:n}}))}},{key:"getTxnOnInsufficientFundsRatio",value:function(){var e=this;this.txnOnInsufficientFunds$.subscribe((function(t){var n=[{type:"Converted",result:t[0].data?t[0].data.replace(/,/g,""):0},{type:"Churned",result:t[1].data?t[1].data.replace(/,/g,""):0}];e.txnOnInsufficientFundsRatio$={title:"Total User that Ran Out of Coins",classSelector:"transaction-ratio",viewType:"pie",data:n}}))}},{key:"getUserStats",value:function(e,t){var n=this,i=this.api.buildPath(k.e.UsersCountByStatus,["banned"]);this.userStats$=this.api.get(i,{query:{start_date:T(e).format(E.c),end_date:T(t).format(E.c)}}).pipe(Object(P.a)((function(e){return Object(_.a)(e.error.text||n.FAILED_TO_RETRIEVE)})),Object(I.a)((function(e){return[{title:"Total Banned Users",subTitle:"Count - Banned Users",data:e}]})))}},{key:"updateQueries",value:function(e,t,n){var i;i={start:t,end:n},e.forEach((function(e){"string"!=typeof e.query.timeframe&&(e.query=Object.assign(Object.assign({},e.query),{timeframe:i}))}))}},{key:"updateDate",value:function(){this.date$.next(Object.assign({},this.dashboardDate.range))}},{key:"isDateRangeValid",value:function(){var e=this.rangeDate.value;return e.from&&e.to}},{key:"openUsersSignup",value:function(e){var t=this.date$.getValue(),n=t.from,i=t.to,a=Object(A.b)(n).format(E.c),r=Object(A.b)(i).format(E.c);this.router.navigate(["/admin/users"],{queryParams:{created_start_date:a,created_end_date:r,not_status:e.name===E.b.ActivatedSignupCount?"pending":""}})}},{key:"openUsersByBanned",value:function(){var e=this.date$.getValue(),t=e.from,n=e.to,i=Object(A.b)(t).format(E.c),a=Object(A.b)(n).format(E.c);this.router.navigate(["/admin/users"],{queryParams:{status:E.f.Banned,start_date:i,end_date:a}})}},{key:"openUsersByTransaction",value:function(e){var t=this.date$.getValue(),n=t.from,i=t.to,a=Object(A.b)(n).format(E.c),r=Object(A.b)(i).format(E.c);this.router.navigate(["/admin/users"],{queryParams:{transaction:E.e.RedeemCoinsRequest,start_date:a,end_date:r}})}},{key:"openActiveUsers",value:function(){var e=this.date$.getValue(),t=e.from,n=e.to,i=Object(A.b)(t).format(E.c),a=Object(A.b)(n).format(E.c);this.router.navigate(["/admin/users"],{queryParams:{last_active_start_date:i,last_active_end_date:a}})}},{key:"openConvertedUsers",value:function(e){var t=this.date$.getValue(),n=t.from,i=t.to,a=Object(A.b)(n).format(E.c),r=Object(A.b)(i).format(E.c);this.router.navigate(["/admin/users"],{queryParams:{convertedType:e,start_date:a,end_date:r}})}}]),e}()).\u0275fac=function(e){return new(e||ve)(b.Pb(U.a),b.Pb(j.a),b.Pb(C.b),b.Pb(l.f))},ve.\u0275cmp=b.Jb({type:ve,selectors:[["duelit-app-data"]],decls:66,vars:77,consts:[[1,"date-filter"],[3,"formControl"],[1,"btn","custom","primary",3,"disabled","click"],[1,"row","container"],[4,"ngIf","ngIfElse"],["class","col-6",3,"title","keenName","viewType","queryType","query","isCombined","apiResult",4,"ngFor","ngForOf"],["class","col-6 metric",3,"title","keenName","viewType","queryType","query",4,"ngFor","ngForOf"],["loading",""],["class","col-4",3,"keenApiInput",4,"ngFor","ngForOf"],[1,"col-4",3,"keenApiInput"],[1,"col-6",3,"title","keenName","viewType","queryType","query","isCombined","apiResult"],["class","col-12",3,"keenApiInput",4,"ngFor","ngForOf"],[1,"col-12",3,"keenApiInput"],["class","col-3 pointer",3,"metric",4,"ngFor","ngForOf"],[1,"col-3","pointer",3,"metric"],[1,"col-3",3,"keenApiInput"],["class","col-4 pointer",3,"metric","click",4,"ngFor","ngForOf"],[1,"col-4","pointer",3,"metric","click"],[1,"col-6","metric",3,"title","keenName","viewType","queryType","query"],[1,"col-4","pointer",3,"metric"],[1,"col-6",3,"keenApiInput"],[1,"col","col-loading"],[1,"metric","loading"]],template:function(e,t){if(1&e&&(b.Vb(0,"div",0),b.Qb(1,"duelit-date-picker-range",1),b.Vb(2,"button",2),b.hc("click",(function(){return t.updateDate()})),b.Lc(3,"Filter"),b.Ub(),b.Ub(),b.Vb(4,"div"),b.Vb(5,"h4"),b.Lc(6,"Revenue"),b.Ub(),b.Vb(7,"div",3),b.Jc(8,M,2,1,"ng-container",4),b.mc(9,"async"),b.Ub(),b.Vb(10,"h4"),b.Lc(11,"Games"),b.Ub(),b.Vb(12,"div",3),b.Jc(13,Q,1,7,"duelit-keen",5),b.Ub(),b.Vb(14,"h4"),b.Lc(15,"Engagement"),b.Ub(),b.Vb(16,"div",3),b.Jc(17,G,2,1,"ng-container",4),b.mc(18,"async"),b.Ub(),b.Vb(19,"div",3),b.Jc(20,H,2,1,"ng-container",4),b.mc(21,"async"),b.Ub(),b.Vb(22,"div",3),b.Jc(23,z,2,1,"ng-container",4),b.mc(24,"async"),b.Ub(),b.Vb(25,"div",3),b.Jc(26,K,2,1,"ng-container",4),b.mc(27,"async"),b.Jc(28,X,2,1,"ng-container",4),b.mc(29,"async"),b.Ub(),b.Vb(30,"div",3),b.Jc(31,ee,2,1,"ng-container",4),b.mc(32,"async"),b.Jc(33,te,2,1,"ng-container",4),b.mc(34,"async"),b.Ub(),b.Vb(35,"div",3),b.Jc(36,ne,1,5,"duelit-keen",6),b.Jc(37,ie,1,5,"duelit-keen",6),b.Ub(),b.Vb(38,"div",3),b.Jc(39,ae,2,1,"ng-container",4),b.mc(40,"async"),b.Jc(41,re,2,1,"ng-container",4),b.mc(42,"async"),b.Jc(43,ce,2,1,"ng-container",4),b.mc(44,"async"),b.Ub(),b.Vb(45,"div",3),b.Jc(46,oe,2,1,"ng-container",4),b.mc(47,"async"),b.Jc(48,se,2,1,"ng-container",4),b.mc(49,"async"),b.Ub(),b.Vb(50,"h4"),b.Lc(51,"User Statistics"),b.Ub(),b.Vb(52,"div",3),b.Jc(53,ue,2,1,"ng-container",4),b.mc(54,"async"),b.Jc(55,pe,2,1,"ng-container",4),b.mc(56,"async"),b.Jc(57,fe,2,1,"ng-container",4),b.mc(58,"async"),b.Ub(),b.Vb(59,"div",3),b.Jc(60,ge,2,1,"ng-container",4),b.mc(61,"async"),b.Jc(62,ye,2,1,"ng-container",4),b.mc(63,"async"),b.Ub(),b.Ub(),b.Jc(64,he,2,0,"ng-template",null,7,b.Kc)),2&e){var n=b.zc(65);b.Cb(1),b.rc("formControl",t.rangeDate),b.Cb(1),b.rc("disabled",!t.isDateRangeValid()),b.Cb(6),b.rc("ngIf",b.nc(9,41,t.revenueStats$))("ngIfElse",n),b.Cb(5),b.rc("ngForOf",t.gamesQueries),b.Cb(4),b.rc("ngIf",b.nc(18,43,t.createdChallengePerHrStats$))("ngIfElse",n),b.Cb(3),b.rc("ngIf",b.nc(21,45,t.completedChallengePerHrStats$))("ngIfElse",n),b.Cb(3),b.rc("ngIf",b.nc(24,47,t.completedTournamentPerHrStats$))("ngIfElse",n),b.Cb(3),b.rc("ngIf",b.nc(27,49,t.challengeStats$))("ngIfElse",n),b.Cb(2),b.rc("ngIf",b.nc(29,51,t.challengeStats$))("ngIfElse",n),b.Cb(3),b.rc("ngIf",b.nc(32,53,t.signupCountStats$))("ngIfElse",n),b.Cb(2),b.rc("ngIf",b.nc(34,55,t.signupCountStats$))("ngIfElse",n),b.Cb(3),b.rc("ngForOf",t.engagement3Queries),b.Cb(1),b.rc("ngForOf",t.engagement4Queries),b.Cb(2),b.rc("ngIf",b.nc(40,57,t.dynamicEntryFeeStats$))("ngIfElse",n),b.Cb(2),b.rc("ngIf",b.nc(42,59,t.dynamicEntryFeeStats$))("ngIfElse",n),b.Cb(2),b.rc("ngIf",b.nc(44,61,t.dynamicEntryFeeStats$))("ngIfElse",n),b.Cb(3),b.rc("ngIf",b.nc(47,63,t.dynamicEntryFeeStats$))("ngIfElse",n),b.Cb(2),b.rc("ngIf",b.nc(49,65,t.dynamicEntryFeeStats$))("ngIfElse",n),b.Cb(5),b.rc("ngIf",b.nc(54,67,t.signupTypeStats$))("ngIfElse",n),b.Cb(2),b.rc("ngIf",b.nc(56,69,t.activeUsersStats$))("ngIfElse",n),b.Cb(2),b.rc("ngIf",b.nc(58,71,t.userStats$))("ngIfElse",n),b.Cb(3),b.rc("ngIf",b.nc(61,73,t.txnOnInsufficientFunds$))("ngIfElse",n),b.Cb(2),b.rc("ngIf",b.nc(63,75,t.txnOnInsufficientFunds$))("ngIfElse",n)}},directives:[x.a,u.l,u.e,l.n,l.m,V.a,q,L.a],pipes:[l.b],styles:["[_nghost-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:40px}[_nghost-%COMP%]   span.metric.loading[_ngcontent-%COMP%]{height:120px;width:120px;background-size:120px 120px}[_nghost-%COMP%]   .col-loading[_ngcontent-%COMP%]{-webkit-box-pack:center;justify-content:center;display:-webkit-box;display:flex}[_nghost-%COMP%]   .date-filter[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:end;justify-content:flex-end;-webkit-box-align:center;align-items:center}[_nghost-%COMP%]   .date-filter[_ngcontent-%COMP%]   .btn.custom.primary[_ngcontent-%COMP%]{margin-left:15px}[_nghost-%COMP%]  .revenue1 .c3-bar-1{fill:#fe6672!important}"]}),ve),Oe=n("Olgc");function Se(e,t){1&e&&b.Qb(0,"duelit-metric",16),2&e&&b.rc("metric",t.$implicit)}function _e(e,t){if(1&e&&(b.Tb(0),b.Jc(1,Se,1,1,"duelit-metric",15),b.Sb()),2&e){var n=t.$implicit;b.Cb(1),b.rc("ngForOf",n)}}function we(e,t){if(1&e){var n=b.Wb();b.Vb(0,"duelit-metric",18),b.hc("click",(function(){b.Cc(n);var e=t.$implicit;return b.lc(2).openUsersByTransaction(e)})),b.Ub()}2&e&&b.rc("metric",t.$implicit)}function Pe(e,t){if(1&e&&(b.Tb(0),b.Jc(1,we,1,1,"duelit-metric",17),b.Sb()),2&e){var n=t.$implicit;b.Cb(1),b.rc("ngForOf",n)}}function Ie(e,t){1&e&&(b.Vb(0,"div",19),b.Qb(1,"span",20),b.Ub())}function $e(e,t){if(1&e){var n=b.Wb();b.Vb(0,"duelit-metric",22),b.hc("click",(function(){b.Cc(n);var e=t.$implicit;return b.lc(2).openUsersByTransaction(e)})),b.Ub()}2&e&&b.rc("metric",t.$implicit)}function Ee(e,t){if(1&e&&(b.Tb(0),b.Jc(1,$e,1,1,"duelit-metric",21),b.Sb()),2&e){var n=t.$implicit;b.Cb(1),b.rc("ngForOf",n)}}function Ae(e,t){if(1&e&&(b.Tb(0),b.Qb(1,"duelit-metric",23),b.Sb()),2&e){var n=b.lc();b.Cb(1),b.rc("metric",n.totalProfitStats$)}}function Ue(e,t){if(1&e&&(b.Tb(0),b.Qb(1,"duelit-keen-api",24),b.Sb()),2&e){var n=b.lc();b.Cb(1),b.rc("keenApiInput",n.coinsEarned$)}}function je(e,t){if(1&e&&(b.Tb(0),b.Qb(1,"duelit-keen-api",24),b.Sb()),2&e){var n=b.lc();b.Cb(1),b.rc("keenApiInput",n.coinsLost$)}}function xe(e,t){if(1&e&&(b.Tb(0),b.Qb(1,"duelit-metric",25),b.Sb()),2&e){var n=b.lc();b.Cb(1),b.rc("metric",n.coinsBalance$)}}function Ve(e,t){if(1&e){var n=b.Wb();b.Tb(0),b.Vb(1,"button",26),b.hc("click",(function(){b.Cc(n);var e=t.$implicit;return b.lc().updateLevel(e)})),b.Lc(2),b.Ub(),b.Sb()}if(2&e){var i=t.$implicit,a=b.lc();b.Cb(1),b.Hb("selected",i===a.selectedLevel.value),b.Cb(1),b.Nc(" ",i," ")}}function De(e,t){if(1&e){var n=b.Wb();b.Tb(0),b.Vb(1,"button",26),b.hc("click",(function(){b.Cc(n);var e=t.$implicit;return b.lc().updateGame(e.value)})),b.Lc(2),b.Ub(),b.Sb()}if(2&e){var i=t.$implicit,a=b.lc();b.Cb(1),b.Hb("selected",i.value===a.selectedGame.value),b.Cb(1),b.Nc(" ",i.label," ")}}function Fe(e,t){if(1&e&&(b.Tb(0),b.Qb(1,"duelit-metric",25),b.Sb()),2&e){var n=b.lc();b.Cb(1),b.rc("metric",n.coinsWonReal$)}}function Re(e,t){if(1&e&&(b.Tb(0),b.Qb(1,"duelit-metric",25),b.Sb()),2&e){var n=b.lc();b.Cb(1),b.rc("metric",n.coinsWonBot$)}}function qe(e,t){if(1&e&&(b.Tb(0),b.Qb(1,"duelit-keen-api",24),b.Sb()),2&e){var n=b.lc();b.Cb(1),b.rc("keenApiInput",n.coinsWon$)}}var Le,Je,Me=((Le=function(){function e(t,n,i,a,r,c){_classCallCheck(this,e),this.api=t,this.dashboardDate=n,this.toast=i,this.router=a,this.numberPipe=r,this.currencyPipe=c,this.levels=["All levels","beginner","intermediate","expert"],this.games=[{value:-1,label:"All Games"}],this.selectedLevel=new u.d(this.levels[0]),this.selectedGame=new u.d(this.games[0].value),this.coinsEarned$={title:"Coins Earned",classSelector:"coins-earned",viewType:"pie"},this.coinsLost$={title:"Coins Lost",classSelector:"coins-lost",viewType:"pie"},this.coinsWon$={title:"Coins Won",classSelector:"coins-won",viewType:"pie"},this.ngUnsubscribe=new O.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.rangeDate=new u.d(this.dashboardDate.range),this.rangeDate.valueChanges.pipe(Object(w.a)(this.ngUnsubscribe)).subscribe((function(t){e.dashboardDate.range=t})),this.date$=new S.a(this.dashboardDate.range),this.api.get(k.f.Games).subscribe((function(t){console.log("games"),t&&(e.games=e.games.concat(t.map((function(e){return{value:e.id,label:e.title}}))))})),this.totalCredits$=this.api.get(k.c.TotalCredits).pipe(Object(P.a)((function(e){return Object(_.a)({totalCoins:0,giftedCoins:0})})),Object(I.a)((function(t){return[{title:"Total Coins",subTitle:"Count - Total In-game Coins",data:t.totalCoins?e.numberPipe.transform(t.totalCoins):"0"},{title:"Total Gifted Coins",subTitle:"Count - Total Gifted Coins",data:t.giftedCoins?e.numberPipe.transform(t.giftedCoins):"0"}]}))),this.date$.subscribe((function(t){var n=t.from,i=t.to,a=Object(A.b)(n).format(E.c),r=Object(A.b)(i).format(E.c);e.getRedeemedStats(a,r),e.getTotalProfitStats(),e.getCoinsEarnedStats(a,r),e.getCoinsEarnedPositive(),e.getCoinsEarnedNegative(),e.getCoinsBalance(),e.getCoinsWonStats(a,r,e.selectedLevel.value===e.levels[0]?"":e.selectedLevel.value),e.productsSold$=e.api.get(k.c.PurchasedCoins,{query:{start_date:a,end_date:r}}).pipe(Object(P.a)((function(t){return e.toast.error(t.error||t.statusText||t.message),Object(_.a)([{amount:"0.01",count:0},{amount:"4.99",count:0},{amount:"9.99",count:0},{amount:"25.99",count:0},{amount:"49.99",count:0}])})),Object(I.a)((function(e){return e.map((function(e){return{name:E.b.PurchasedCount,title:null,subTitle:"Count - Total ".concat(e.amount&&"0.01"!==e.amount?"Purchased $".concat(e.amount):"Watched Ads ($0.01)"),data:e.count,amount:Number(e.amount)}}))})))}))}},{key:"updateDate",value:function(){this.date$.next(Object.assign({},this.dashboardDate.range))}},{key:"updateLevel",value:function(e){this.selectedLevel.setValue(e),this.getCoinsWonStats("".concat(this.dashboardDate.range.from.year,"-").concat(this.dashboardDate.range.from.month,"-").concat(this.dashboardDate.range.from.day),"".concat(this.dashboardDate.range.to.year,"-").concat(this.dashboardDate.range.to.month,"-").concat(this.dashboardDate.range.to.day),this.selectedLevel.value===this.levels[0]?"":this.selectedLevel.value,this.selectedGame.value===this.games[0].value?"":this.selectedGame.value)}},{key:"updateGame",value:function(e){this.selectedGame.setValue(e),this.getCoinsWonStats("".concat(this.dashboardDate.range.from.year,"-").concat(this.dashboardDate.range.from.month,"-").concat(this.dashboardDate.range.from.day),"".concat(this.dashboardDate.range.to.year,"-").concat(this.dashboardDate.range.to.month,"-").concat(this.dashboardDate.range.to.day),this.selectedLevel.value===this.levels[0]?"":this.selectedLevel.value,this.selectedGame.value===this.games[0].value?"":this.selectedGame.value)}},{key:"getSelectedGameLabel",value:function(){var e=this;return this.games.find((function(t){return t.value===e.selectedGame.value})).label}},{key:"isDateRangeValid",value:function(){var e=this.rangeDate.value;return e.from&&e.to}},{key:"getRedeemedStats",value:function(e,t){var n=this;this.redeemedStats$=this.api.get(k.c.RedeemedCoins,{query:{start_date:e,end_date:t}}).pipe(Object(P.a)((function(e){return Object(_.a)({totalAmount:E.d,playerCount:E.d})})),Object(I.a)((function(e){var t,i;try{t=parseInt(e.totalAmount),i=Math.floor(.00825*t*100)/100}catch(r){console.log("Invalid coin amount",r)}var a="$0<br>0 coins";return i&&t&&(a="".concat(n.currencyPipe.transform(i),"<br>").concat(n.numberPipe.transform(t)," coins")),[{name:E.b.RedeemCount,title:"Total Redeems",subTitle:"Redeem Stats",data:a,class:"coin-dollar-metric",amount:i},{name:E.b.RedeemCount,title:"Redeemed Players Count",subTitle:"Count - Players Count",data:e.playerCount}]})))}},{key:"getTotalProfitStats",value:function(){var e,t=this;this.redeemedStats$.pipe(Object($.a)((function(n){return e=n[0].amount,t.productsSold$}))).subscribe((function(n){var i=n.reduce((function(e,t){return e+t.amount*Number(t.data)}),0)-e,a="$0<br>0 coins";i&&(a="".concat(t.currencyPipe.transform(i),"<br>").concat(t.numberPipe.transform(Math.floor(i/.00825))," coins")),t.totalProfitStats$={title:"Total Profit",subTitle:"Total Profit Stats",data:a,class:"coin-dollar-metric"}}))}},{key:"getCoinsEarnedStats",value:function(e,t){this.coinsEarnedStats$=this.api.get(k.a.CoinsEarnedStats,{query:{start_date:e,end_date:t}}).pipe(Object(P.a)((function(e){return Object(_.a)([])})),Object(I.a)((function(e){return e})))}},{key:"getCoinsEarnedPositive",value:function(){var e=this;this.coinsEarnedStats$.subscribe((function(t){var n,i,a=[{type:"Real Lost",result:(n=t.real_lost_coins,null!=n?n:0)},{type:"Duelit Cut",result:(i=t.total_duelit_cut_prize,null!=i?i:0)}];e.coinsEarned$={title:"Coins Gained",classSelector:"coins-earned",viewType:"pie",data:a}}))}},{key:"getCoinsEarnedNegative",value:function(){var e=this;this.coinsEarnedStats$.subscribe((function(t){var n,i,a=[{type:"Coins Gifted",result:(n=t.coins_gifted,null!=n?n:0)},{type:"Bot Lost",result:(i=t.bot_lost_coins,null!=i?i:0)}];e.coinsLost$={title:"Coins Lost",classSelector:"coins-lost",viewType:"pie",data:a}}))}},{key:"getCoinsBalance",value:function(){var e=this;this.coinsEarnedStats$.subscribe((function(t){var n,i=null!=(n=t.real_lost_coins+t.total_duelit_cut_prize-(t.coins_gifted+t.bot_lost_coins))?n:0;e.coinsBalance$={title:"Total Coins Balance",subTitle:"Coins Balance",data:i,class:"coins-balance"}}))}},{key:"getCoinsWonStats",value:function(e,t,n,i){var a=this,r={start_date:e,end_date:t};i&&(r.game_id=i),n&&(r.level=n),this.coinsWonStats$=this.api.get(k.a.CoinsWon,{query:r}).pipe(Object(P.a)((function(e){return Object(_.a)([])})),Object(I.a)((function(e){var t,n;return a.coinsWonReal$={title:"Coins Won by Real Players",subTitle:"Real Player Coins",data:e.real_player_coins_won,class:"coins-won-real"},a.coinsWonBot$={title:"Coins Won by Bots",subTitle:"Bot Coins",data:e.bot_coins_won,class:"coins-won-bot"},a.coinsWon$={title:"Coins Won",classSelector:"coins-won",viewType:"pie",data:[{type:"Real Players",result:(t=e.real_player_coins_won,null!=t?t:0)},{type:"Bots",result:(n=e.bot_coins_won,null!=n?n:0)}]},e})))}},{key:"openUsersByTransaction",value:function(e){var t=this.date$.getValue(),n=t.from,i=t.to,a=Object(A.b)(n).format(E.c),r=Object(A.b)(i).format(E.c),c={transaction:E.e.RedeemCoinsRequest,start_date:a,end_date:r};e.name===E.b.PurchasedCount&&(c.transaction=E.e.Transaction,c.amount=e.amount),this.router.navigate(["/admin/users"],{queryParams:c})}}]),e}()).\u0275fac=function(e){return new(e||Le)(b.Pb(U.a),b.Pb(j.a),b.Pb(Oe.a),b.Pb(C.b),b.Pb(l.f),b.Pb(l.d))},Le.\u0275cmp=b.Jb({type:Le,selectors:[["duelit-finance"]],decls:56,vars:46,consts:[[1,"row","container"],[4,"ngIf","ngIfElse"],[1,"divider"],[1,"date-filter"],[3,"formControl"],[1,"btn","custom","primary",3,"disabled","click"],[1,"row","container","purchased-container"],["loading",""],[1,"coins-won-header"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownLevel","ngbDropdownToggle","",1,"btn","btn-outline-primary"],["ngbDropdownMenu","","aria-labelledby","dropdownLevel"],[4,"ngFor","ngForOf"],["id","dropdownGames","ngbDropdownToggle","",1,"btn","btn-outline-primary"],["ngbDropdownMenu","","aria-labelledby","dropdownGames"],["class","col-6",3,"metric",4,"ngFor","ngForOf"],[1,"col-6",3,"metric"],["class","purchased-metric pointer",3,"metric","click",4,"ngFor","ngForOf"],[1,"purchased-metric","pointer",3,"metric","click"],[1,"col","col-loading"],[1,"metric","loading"],["class","col-6 pointer",3,"metric","click",4,"ngFor","ngForOf"],[1,"col-6","pointer",3,"metric","click"],[1,"col-12",3,"metric"],[1,"col-4",3,"keenApiInput"],[1,"col-4",3,"metric"],["ngbDropdownItem","",3,"click"]],template:function(e,t){if(1&e&&(b.Vb(0,"h4"),b.Lc(1,"Coins"),b.Ub(),b.Vb(2,"div",0),b.Jc(3,_e,2,1,"ng-container",1),b.mc(4,"async"),b.Ub(),b.Qb(5,"div",2),b.Vb(6,"div",3),b.Qb(7,"duelit-date-picker-range",4),b.Vb(8,"button",5),b.hc("click",(function(){return t.updateDate()})),b.Lc(9,"Filter"),b.Ub(),b.Ub(),b.Vb(10,"h4"),b.Lc(11,"Purchased Product"),b.Ub(),b.Vb(12,"div",6),b.Jc(13,Pe,2,1,"ng-container",1),b.mc(14,"async"),b.Ub(),b.Jc(15,Ie,2,0,"ng-template",null,7,b.Kc),b.Vb(17,"h4"),b.Lc(18,"Redeemed Coins"),b.Ub(),b.Vb(19,"div",0),b.Jc(20,Ee,2,1,"ng-container",1),b.mc(21,"async"),b.Ub(),b.Vb(22,"h4"),b.Lc(23,"Total Profit"),b.Ub(),b.Vb(24,"div",0),b.Jc(25,Ae,2,1,"ng-container",1),b.mc(26,"async"),b.Ub(),b.Vb(27,"h4"),b.Lc(28,"Coins Earned/Lost"),b.Ub(),b.Vb(29,"div",0),b.Jc(30,Ue,2,1,"ng-container",1),b.mc(31,"async"),b.Jc(32,je,2,1,"ng-container",1),b.mc(33,"async"),b.Jc(34,xe,2,1,"ng-container",1),b.mc(35,"async"),b.Ub(),b.Vb(36,"div",8),b.Vb(37,"h4"),b.Lc(38,"Coins Won"),b.Ub(),b.Vb(39,"div",9),b.Vb(40,"button",10),b.Lc(41),b.Ub(),b.Vb(42,"div",11),b.Jc(43,Ve,3,3,"ng-container",12),b.Ub(),b.Ub(),b.Vb(44,"div",9),b.Vb(45,"button",13),b.Lc(46),b.Ub(),b.Vb(47,"div",14),b.Jc(48,De,3,3,"ng-container",12),b.Ub(),b.Ub(),b.Ub(),b.Vb(49,"div",0),b.Jc(50,Fe,2,1,"ng-container",1),b.mc(51,"async"),b.Jc(52,Re,2,1,"ng-container",1),b.mc(53,"async"),b.Jc(54,qe,2,1,"ng-container",1),b.mc(55,"async"),b.Ub()),2&e){var n=b.zc(16);b.Cb(3),b.rc("ngIf",b.nc(4,26,t.totalCredits$))("ngIfElse",n),b.Cb(4),b.rc("formControl",t.rangeDate),b.Cb(1),b.rc("disabled",!t.isDateRangeValid()),b.Cb(5),b.rc("ngIf",b.nc(14,28,t.productsSold$))("ngIfElse",n),b.Cb(7),b.rc("ngIf",b.nc(21,30,t.redeemedStats$))("ngIfElse",n),b.Cb(5),b.rc("ngIf",b.nc(26,32,t.redeemedStats$))("ngIfElse",n),b.Cb(5),b.rc("ngIf",b.nc(31,34,t.coinsEarnedStats$))("ngIfElse",n),b.Cb(2),b.rc("ngIf",b.nc(33,36,t.coinsEarnedStats$))("ngIfElse",n),b.Cb(2),b.rc("ngIf",b.nc(35,38,t.coinsEarnedStats$))("ngIfElse",n),b.Cb(7),b.Mc(t.selectedLevel.value),b.Cb(2),b.rc("ngForOf",t.levels),b.Cb(3),b.Mc(t.getSelectedGameLabel()),b.Cb(2),b.rc("ngForOf",t.games),b.Cb(2),b.rc("ngIf",b.nc(51,40,t.coinsWonStats$))("ngIfElse",n),b.Cb(2),b.rc("ngIf",b.nc(53,42,t.coinsWonStats$))("ngIfElse",n),b.Cb(2),b.rc("ngIf",b.nc(55,44,t.coinsWonStats$))("ngIfElse",n)}},directives:[l.n,x.a,u.l,u.e,d.g,d.k,d.i,l.m,L.a,V.a,d.h],pipes:[l.b],styles:["[_nghost-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:40px}[_nghost-%COMP%]   span.metric.loading[_ngcontent-%COMP%]{height:120px;width:120px;background-size:120px 120px}[_nghost-%COMP%]   .col-loading[_ngcontent-%COMP%]{-webkit-box-pack:center;justify-content:center;display:-webkit-box;display:flex}[_nghost-%COMP%]   .date-filter[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:end;justify-content:flex-end;-webkit-box-align:center;align-items:center}[_nghost-%COMP%]   .date-filter[_ngcontent-%COMP%]   .btn.custom.primary[_ngcontent-%COMP%]{margin-left:15px}[_nghost-%COMP%]  .revenue1 .c3-bar-1{fill:#fe6672!important}",".divider[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:20px}.coins-won-header[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:10px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-column-gap:20px;-moz-column-gap:20px;column-gap:20px}.coins-won-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0}.purchased-container[_ngcontent-%COMP%]{gap:10px}.purchased-metric[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1}"]}),Le),Qe=n("PqYM"),Ne=n("l7GE"),Ge=n("ZUHj"),Be=function(){function e(t){_classCallCheck(this,e),this.notifier=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new He(e,this.notifier,t))}}]),e}(),He=function(e){function t(e,n,i){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).notifier=n,a.source=i,a.sourceIsBeingSubscribedTo=!0,a}return _inherits(t,e),_createClass(t,[{key:"notifyNext",value:function(e,t,n,i,a){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}},{key:"notifyComplete",value:function(e){if(!1===this.sourceIsBeingSubscribedTo)return _get(_getPrototypeOf(t.prototype),"complete",this).call(this)}},{key:"complete",value:function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return _get(_getPrototypeOf(t.prototype),"complete",this).call(this);this._unsubscribeAndRecycle(),this.notifications.next()}}},{key:"_unsubscribe",value:function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._unsubscribe;return this._unsubscribe=null,_get(_getPrototypeOf(t.prototype),"_unsubscribeAndRecycle",this).call(this),this._unsubscribe=e,this}},{key:"subscribeToRetries",value:function(){var e;this.notifications=new O.a;try{e=(0,this.notifier)(this.notifications)}catch(n){return _get(_getPrototypeOf(t.prototype),"complete",this).call(this)}this.retries=e,this.retriesSubscription=Object(Ge.a)(this,e)}}]),t}(Ne.a),We=n("bOdf"),ze={asc:"desc",desc:"","":"asc"},Ye=((Je=function(){function e(){_classCallCheck(this,e),this.duelitSortable="",this.direction="",this.tableName="",this.sort=new b.o}return _createClass(e,[{key:"rotate",value:function(){this.direction=ze[this.direction],this.sort.emit({column:this.duelitSortable,direction:this.direction})}},{key:"_t",get:function(){return!0}},{key:"isAscending",get:function(){return"asc"===this.direction}},{key:"isDescending",get:function(){return"desc"===this.direction}}]),e}()).\u0275fac=function(e){return new(e||Je)},Je.\u0275dir=b.Kb({type:Je,selectors:[["th","duelitSortable",""]],hostVars:6,hostBindings:function(e,t){1&e&&b.hc("click",(function(e){return t.rotate(e)})),2&e&&b.Hb("pointer",t._t)("asc",t.isAscending)("desc",t.isDescending)},inputs:{duelitSortable:"duelitSortable",direction:"direction",tableName:"tableName"},outputs:{sort:"sort"}}),Je);function Ke(e,t){if(1&e){var n=b.Wb();b.Vb(0,"th",5),b.hc("sort",(function(e){return b.Cc(n),b.lc(2).onSort(e)})),b.Lc(1),b.Ub()}if(2&e){var i=t.$implicit;b.rc("duelitSortable",i),b.Cb(1),b.Mc(i.name)}}function Xe(e,t){if(1&e&&(b.Vb(0,"th",8),b.Lc(1),b.Ub()),2&e){var n=b.lc().$implicit;b.Cb(1),b.Mc(n)}}function Ze(e,t){if(1&e&&(b.Vb(0,"td"),b.Lc(1),b.Ub()),2&e){var n=b.lc().$implicit;b.Cb(1),b.Mc(n)}}function et(e,t){if(1&e&&(b.Tb(0),b.Jc(1,Xe,2,1,"th",6),b.Jc(2,Ze,2,1,"ng-template",null,7,b.Kc),b.Sb()),2&e){var n=t.index,i=b.zc(3);b.Cb(1),b.rc("ngIf",0===n)("ngIfElse",i)}}function tt(e,t){if(1&e&&(b.Vb(0,"tr"),b.Jc(1,et,4,2,"ng-container",4),b.Ub()),2&e){var n=t.$implicit;b.Cb(1),b.rc("ngForOf",n)}}function nt(e,t){if(1&e&&(b.Vb(0,"table",2),b.Vb(1,"thead"),b.Vb(2,"tr"),b.Jc(3,Ke,2,2,"th",3),b.Ub(),b.Ub(),b.Vb(4,"tbody"),b.Jc(5,tt,2,1,"tr",4),b.Ub(),b.Ub()),2&e){var n=b.lc();b.Cb(3),b.rc("ngForOf",n.headerMapping),b.Cb(2),b.rc("ngForOf",n.tableData)}}function it(e,t){1&e&&b.Lc(0," No data to show.\n")}var at,rt=((at=function(){function e(){_classCallCheck(this,e),this.headerMapping=[],this.data=[],this.sort=new b.o,this.sortDirection=""}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"getData",value:function(e,t){var n=t;return e.split(".").forEach((function(e){return n=n[e]})),String(n)}},{key:"onSort",value:function(e){var t=e.column,n=e.direction;this.headers.forEach((function(e){e.duelitSortable!==t&&(e.direction="")})),this.sortColumn=t,this.sortDirection=n}},{key:"tableData",get:function(){var e=this;return this.data.map((function(t){return e.headerMapping.map((function(n){return e.getData(n.path,t)}))})).sort((function(t,n){var i=e.headerMapping.indexOf(e.sortColumn);i<0&&(i=0);var a,r,c=(a=t[i])<(r=n[i])?-1:a>r?1:0;return"desc"===e.sortDirection?-1*c:c}))}}]),e}()).\u0275fac=function(e){return new(e||at)},at.\u0275cmp=b.Jb({type:at,selectors:[["duelit-table"]],viewQuery:function(e,t){var n;1&e&&b.Qc(Ye,!0),2&e&&b.yc(n=b.ic())&&(t.headers=n)},inputs:{headerMapping:"headerMapping",data:"data",tableName:"tableName"},outputs:{sort:"sort"},decls:3,vars:2,consts:[["class","table table-striped",4,"ngIf","ngIfElse"],["noData",""],[1,"table","table-striped"],["scope","col",3,"duelitSortable","sort",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["scope","col",3,"duelitSortable","sort"],["scope","row",4,"ngIf","ngIfElse"],["td",""],["scope","row"]],template:function(e,t){if(1&e&&(b.Jc(0,nt,6,2,"table",0),b.Jc(1,it,1,0,"ng-template",null,1,b.Kc)),2&e){var n=b.zc(2);b.rc("ngIf",t.data.length)("ngIfElse",n)}},directives:[l.n,l.m,Ye],styles:['th.asc[_ngcontent-%COMP%]:before, th.desc[_ngcontent-%COMP%]:before{content:"";display:block;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAmxJREFUeAHtmksrRVEUx72fH8CIGQNJkpGUUmakDEiZSJRIZsRQmCkTJRmZmJgQE0kpX0D5DJKJgff7v+ru2u3O3vvc67TOvsdatdrnnP1Y///v7HvvubdbUiIhBISAEBACQkAICAEhIAQ4CXSh2DnyDfmCPEG2Iv9F9MPlM/LHyAecdyMzHYNwR3fdNK/OH9HXl1UCozD24TCvILxizEDWIEzA0FcM8woCgRrJCoS5PIwrANQSMAJX1LEI9bqpQo4JYNFFKRSvIgsxHDVnqZgIkPnNBM0rIGtYk9YOOsqgbgepRCfdbmFtqhFkVEDVPjJp0+Z6e6hRHhqBKgg6ZDCvYBygVmUoEGoh5JTRvIJwhJo1aUOoh4CLPMyvxxi7EWOMgnCGsXXI1GIXlZUYX7ucU+kbR8NW8lh3O7cue0Pk32MKndfUxQFAwxdirk3fHappAnc0oqDPzDfGTBrCfHP04dM4oTV8cxr0SVzH9FF07xD3ib6xCDE+M+aUcVygtWzzbtGX2rPBrEUYfecfQkaFzYi6HjVnGBdtL7epqAlc1+jRdAap74RrnPc4BCijttY2tRcdN0g17w7HqZrXhdJTYAuS3hd8z+vKgK3V1zWPae0mZDMykadBn1hTQBLnZNwVrJpSe/NwEeDsEwCctEOsJTsgxLvCqUl2ACftEGvJDgjxrnBqkh3ASTvEWrIDQrwrnJpkB3DSDrGW7IAQ7wqnJtkBnLRztejXXVu4+mxz/nQ9jR1w5VB86ejLTFcnnDwhzV+F6T+CHZlx6THSjn76eyyBIOPHyDakhBAQAkJACAgBISAEhIAQYCLwC8JxpAmsEGt6AAAAAElFTkSuQmCC") no-repeat;background-size:auto;background-size:22px;width:22px;height:22px;float:left;margin-left:-22px}th.desc[_ngcontent-%COMP%]:before{-webkit-transform:rotate(180deg);transform:rotate(180deg);-ms-transform:rotate(180deg)}']}),at);function ct(e,t){1&e&&(b.Vb(0,"div",3),b.Qb(1,"span",4),b.Ub())}function ot(e,t){if(1&e&&(b.Tb(0),b.Qb(1,"duelit-table",5),b.Sb()),2&e){var n=t.$implicit,i=b.lc();b.Cb(1),b.rc("data",n)("headerMapping",i.tableHeadersMapping)}}var st,lt=((st=function(){function e(t){_classCallCheck(this,e),this.api=t,this.ngUnsubscribe=new O.a,this.POLL_INTERVAL=1e4,this.timer$=new S.a(this.POLL_INTERVAL/1e3),this._stop=new O.a,this._start=new O.a,this.tableHeadersMapping=[{name:"ID",path:"tournament_id"},{name:"Game Name",path:"game_name"},{name:"Joined Players",path:"total_players"},{name:"Real Players",path:"total_real_players"},{name:"Minimum Players",path:"minimum_players"},{name:"Status",path:"status"},{name:"Total Payout",path:"total_payout"},{name:"Level",path:"level"},{name:"Time Left",path:"time_left"}]}return _createClass(e,[{key:"ngOnInit",value:function(){var e,t=this;Object(Qe.a)(0,1e3).pipe(Object(I.a)((function(e){return t.POLL_INTERVAL/1e3-e})),Object(w.a)(this._stop),(e=function(){return t._start},function(t){return t.lift(new Be(e))})).subscribe((function(e){t.timer$.next(e)})),this.openTournaments$=Object(Qe.a)(0,this.POLL_INTERVAL).pipe(Object(We.a)((function(){return t.api.get(k.d.GetOccupiedOpenTournaments).pipe(Object(P.a)((function(e){return Object(_.a)({})})))})),Object(I.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};null===e&&(e={}),t.restartTimer();var n=t.getTournamentListByStatus(e,"Started");return n=t.mapTimeLeft(n)})),Object(w.a)(this.ngUnsubscribe))}},{key:"getTournamentListByStatus",value:function(e,t){return Object.keys(e).filter((function(n){return e[n].status===t})).map((function(t){return e[t]}))}},{key:"mapTimeLeft",value:function(e){var t=T();return e.filter((function(e){var n=T.utc(e.timer.startAt,"DD/MM/YYYY h:mm:ss");return 0===t.diff(n,"hours")})).map((function(e){var n=T.utc(e.timer.startAt,"DD/MM/YYYY h:mm:ss"),i=T.duration(t.diff(n)),a=10-i.minutes(),r=60-i.seconds();return e.time_left="",a>0&&(e.time_left+="".concat(a," mins ")),e.time_left+="".concat(r," secs"),e}))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"restartTimer",value:function(){this._stop.next(),this._start.next()}}]),e}()).\u0275fac=function(e){return new(e||st)(b.Pb(U.a))},st.\u0275cmp=b.Jb({type:st,selectors:[["duelit-realtime"]],decls:9,vars:7,consts:[["loading",""],[1,"d-inline","pr-1"],[4,"ngIf","ngIfElse"],[1,"col","col-loading"],[1,"metric","loading"],[3,"data","headerMapping"]],template:function(e,t){if(1&e&&(b.Jc(0,ct,2,0,"ng-template",null,0,b.Kc),b.Vb(2,"h4",1),b.Lc(3,"Active Tournaments"),b.Ub(),b.Vb(4,"span"),b.Lc(5),b.mc(6,"async"),b.Ub(),b.Jc(7,ot,2,2,"ng-container",2),b.mc(8,"async")),2&e){var n=b.zc(1);b.Cb(5),b.Nc("(Refreshing in ",b.nc(6,3,t.timer$)," seconds)"),b.Cb(2),b.rc("ngIf",b.nc(8,5,t.openTournaments$))("ngIfElse",n)}},directives:[l.n,rt],pipes:[l.b],styles:[".col-loading[_ngcontent-%COMP%]{-webkit-box-pack:center;justify-content:center;display:-webkit-box;display:flex}[_nghost-%COMP%]     span.loading{height:120px;width:120px;background-size:120px 120px}"]}),st);function ut(e,t){1&e&&b.Qb(0,"duelit-app-data")}function dt(e,t){1&e&&b.Qb(0,"duelit-finance")}function pt(e,t){1&e&&b.Qb(0,"duelit-realtime")}var bt,ft,mt=[{path:"",component:(bt=function e(){_classCallCheck(this,e),this.activeTab="Application Data"},bt.\u0275fac=function(e){return new(e||bt)},bt.\u0275cmp=b.Jb({type:bt,selectors:[["duelit-dashboard"]],decls:18,vars:2,consts:[["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],["ngbNavItem","Application Data"],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","Finance"],["ngbNavItem","Realtime Data"],[1,"timezone"],[1,"mt-2",3,"ngbNavOutlet"]],template:function(e,t){if(1&e&&(b.Vb(0,"ul",0,1),b.hc("activeIdChange",(function(e){return t.activeTab=e})),b.Vb(2,"li",2),b.Vb(3,"a",3),b.Lc(4,"App"),b.Ub(),b.Jc(5,ut,1,0,"ng-template",4),b.Ub(),b.Vb(6,"li",5),b.Vb(7,"a",3),b.Lc(8,"Finance"),b.Ub(),b.Jc(9,dt,1,0,"ng-template",4),b.Ub(),b.Vb(10,"li",6),b.Vb(11,"a",3),b.Lc(12,"Realtime"),b.Ub(),b.Jc(13,pt,1,0,"ng-template",4),b.Ub(),b.Vb(14,"li",7),b.Vb(15,"span"),b.Lc(16,"Timezone: UTC"),b.Ub(),b.Ub(),b.Ub(),b.Qb(17,"div",8)),2&e){var n=b.zc(1);b.rc("activeId",t.activeTab),b.Cb(17),b.rc("ngbNavOutlet",n)}},directives:[d.o,d.q,d.r,d.p,d.t,Te,Me,lt],styles:[".timezone[_ngcontent-%COMP%]{display:-webkit-box;display:flex;float:right;-webkit-box-flex:1;flex-grow:1;-webkit-box-pack:right;justify-content:right;-webkit-box-align:center;align-items:center;padding-right:1em}"]}),bt)}],gt=((ft=function e(){_classCallCheck(this,e)}).\u0275mod=b.Nb({type:ft}),ft.\u0275inj=b.Mb({factory:function(e){return new(e||ft)},imports:[[C.e.forChild(mt)],C.e]}),ft);n.d(t,"DashboardModule",(function(){return ht}));var yt,ht=((yt=function e(){_classCallCheck(this,e)}).\u0275mod=b.Nb({type:yt}),yt.\u0275inj=b.Mb({factory:function(e){return new(e||yt)},providers:[l.f,l.d],imports:[[l.c,gt,d.s,d.j,p.a,u.q,g,y,h.a,v.a,m]]}),yt)}}]);