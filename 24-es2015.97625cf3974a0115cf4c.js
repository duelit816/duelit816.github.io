(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{N8ez:function(e,t,n){"use strict";n.r(t);var c=n("ofXK"),o=n("3Pt+"),a=n("2Did"),i=n("tyNb"),r=n("2FTj"),s=n("SLWe"),l=n("vkgz"),u=n("UXun"),b=n("IzEk"),m=n("fXoL"),d=n("Znnd"),p=n("qc5V");let f=(()=>{class e{constructor(e){this.api=e}getCredits(){return this.api.get(d.c.Credits)}}return e.\u0275fac=function(t){return new(t||e)(m.dc(p.a))},e.\u0275prov=m.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=n("UdTj"),g=n("AytR");let v=(()=>{class e{constructor(e){this.opened=new m.o,e.nativeElement.id="duelit-paypal",this.use()}onClicked(e){this.opened.emit()}use(){if(window.paypal)try{window.paypal.use(["login"],e=>{e.render({appid:g.a.paypal.apiId,authend:g.a.paypal.environment,scopes:"email",containerid:"duelit-paypal",locale:"es-es",theme:"neutral",text:"Send Cash Out Request",fullPage:"true",returnurl:g.a.paypal.returnUrl})})}catch(e){console.error(e)}else console.error("Paypal not found")}}return e.\u0275fac=function(t){return new(t||e)(m.Pb(m.l))},e.\u0275dir=m.Kb({type:e,selectors:[["","duelitPaypal",""]],hostBindings:function(e,t){1&e&&m.hc("click",(function(e){return t.onClicked(e)}))},outputs:{opened:"opened"}}),e})();function C(e,t){if(1&e&&(m.Vb(0,"span"),m.Lc(1," You will be credited a total of "),m.Vb(2,"span",8),m.Lc(3),m.mc(4,"number"),m.Ub(),m.Lc(5," USD "),m.Ub()),2&e){const e=m.lc(2);m.Cb(3),m.Nc("$ ",m.oc(4,1,e.reedemableValue(),"0.2-2"),"")}}function O(e,t){if(1&e&&(m.Vb(0,"div",11),m.Vb(1,"span"),m.Lc(2,"Insufficient Funds."),m.Ub(),m.Vb(3,"span"),m.Lc(4),m.Ub(),m.Ub()),2&e){const e=m.lc().$implicit,t=m.lc();m.Cb(4),m.Nc("You can only redeem ",t.maxReemableDollars(e.virtualAmount,e.coinsRateConversion)," or less")}}function x(e,t){1&e&&m.Qb(0,"div",13)}function w(e,t){if(1&e&&m.Jc(0,x,1,0,"div",12),2&e){const e=m.lc(2);m.rc("ngIf",e.cashOutForm.get("cashOutAmount").value>0&&e.reedemableValue()>0)}}function y(e,t){if(1&e&&(m.Tb(0),m.Vb(1,"duelit-panel",4),m.Vb(2,"div"),m.Lc(3),m.mc(4,"number"),m.Ub(),m.Vb(5,"div",5),m.Qb(6,"input",6),m.Ub(),m.Vb(7,"div"),m.Lc(8),m.mc(9,"number"),m.Ub(),m.Vb(10,"div"),m.Jc(11,C,6,4,"span",7),m.Vb(12,"span",8),m.Lc(13),m.mc(14,"number"),m.mc(15,"number"),m.mc(16,"number"),m.Ub(),m.Ub(),m.Vb(17,"div"),m.Vb(18,"span"),m.Lc(19," Redeemable for "),m.Vb(20,"span",8),m.Lc(21),m.mc(22,"number"),m.Ub(),m.Ub(),m.Ub(),m.Jc(23,O,5,1,"div",9),m.Jc(24,w,1,1,"ng-template",null,10,m.Kc),m.Ub(),m.Sb()),2&e){const e=t.$implicit,n=m.zc(25),c=m.lc();m.Cb(3),m.Oc(" ",e.virtualAmount," coins = $ ",m.oc(4,12,c.maxReemableDollars(e.virtualAmount,e.coinsRateConversion),"0.2-2")," USD "),m.Cb(2),m.rc("formGroup",c.cashOutForm),m.Cb(1),m.rc("max",c.maxReemableDollars(e.virtualAmount,e.coinsRateConversion)),m.Cb(2),m.Nc(" Paypals transaction fee $ ",m.oc(9,15,c.transactionFee(),"0.2-2")," USD "),m.Cb(3),m.rc("ngIf",c.reedemableValue()>0&&c.cashOutForm.get("cashOutAmount").value<=c.maxReemableDollars(e.virtualAmount,e.coinsRateConversion)),m.Cb(2),m.Pc(" $",m.oc(14,18,c.cashOutForm.get("cashOutAmount").value,"0.2-2")," - $",m.oc(15,21,c.transactionFee(),"0.2-2")," = $",m.oc(16,24,c.reedemableValue(),"0.2-2")," "),m.Cb(8),m.Nc("",m.oc(22,27,c.coinsToDeduct(),"0.0-0")," coins"),m.Cb(2),m.rc("ngIf",c.cashOutForm.get("cashOutAmount").value>c.maxReemableDollars(e.virtualAmount,e.coinsRateConversion))("ngIfElse",n)}}function P(e,t){1&e&&(m.Vb(0,"duelit-panel"),m.Lc(1," Getting coins data... "),m.Ub())}const U=[{path:"",component:(()=>{class e{constructor(e,t){this.creditsService=e,this.fb=t}ngOnInit(){this.credits$=this.creditsService.getCredits().pipe(Object(l.a)(e=>{this.credits=e,this.cashOutForm=this.fb.group({cashOutAmount:new o.d(0,[o.s.max(this.maxReemableDollars(e.virtualAmount,e.coinsRateConversion)),o.s.pattern(/^[0-9]*$/)])}),this.cashOutForm.get("cashOutAmount").valueChanges.subscribe(e=>localStorage.setItem(s.a,e))}),Object(u.a)(1),Object(b.a)(1))}maxReemableDollars(e,t){return Math.floor(e*t)}transactionFee(){const e=this.cashOutForm.get("cashOutAmount").value;return e<35?1:e>=35?Math.round(2.9*e)/100:0}reedemableValue(){return this.cashOutForm.get("cashOutAmount").value-this.transactionFee()}coinsToDeduct(){const e=this.cashOutForm.get("cashOutAmount").value;return Math.ceil(e/this.credits.coinsRateConversion)}}return e.\u0275fac=function(t){return new(t||e)(m.Pb(f),m.Pb(o.c))},e.\u0275cmp=m.Jb({type:e,selectors:[["duelit-redeem"]],decls:7,vars:4,consts:[[1,"flex-grow"],[1,"flex-align-center"],[4,"ngIf","ngIfElse"],["loading",""],["head","Cash Out Request"],[1,"form-group",3,"formGroup"],["type","number","formControlName","cashOutAmount","step","1","min","0",1,"form-control","custom",3,"max"],[4,"ngIf"],[1,"cash"],["class","error flex-align-center",4,"ngIf","ngIfElse"],["paypal",""],[1,"error","flex-align-center"],["duelitPaypal","",4,"ngIf"],["duelitPaypal",""]],template:function(e,t){if(1&e&&(m.Qb(0,"div",0),m.Vb(1,"div",1),m.Jc(2,y,26,30,"ng-container",2),m.mc(3,"async"),m.Jc(4,P,2,0,"ng-template",null,3,m.Kc),m.Ub(),m.Qb(6,"div",0)),2&e){const e=m.zc(5);m.Cb(2),m.rc("ngIf",m.nc(3,2,t.credits$))("ngIfElse",e)}},directives:[c.m,h.a,o.m,o.g,o.p,o.b,o.l,o.f,v],pipes:[c.b,c.e],styles:[".cash[_ngcontent-%COMP%]{color:#4093f7}[_nghost-%COMP%]{align-content:center;-webkit-box-pack:center;justify-content:center;width:100%;height:100%;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}[_nghost-%COMP%]   duelit-panel[_ngcontent-%COMP%]{max-width:720px;width:100%}[_nghost-%COMP%]   duelit-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;margin:15px}[_nghost-%COMP%]   .flex-align-center[_ngcontent-%COMP%], [_nghost-%COMP%]   duelit-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{-webkit-box-pack:center;justify-content:center}.error.flex-align-center[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}"],changeDetection:0}),e})(),canActivate:[r.a]}];let V=(()=>{class e{}return e.\u0275mod=m.Nb({type:e}),e.\u0275inj=m.Mb({factory:function(t){return new(t||e)},imports:[[i.e.forChild(U)],i.e]}),e})();n.d(t,"RedeemModule",(function(){return k}));let k=(()=>{class e{}return e.\u0275mod=m.Nb({type:e}),e.\u0275inj=m.Mb({factory:function(t){return new(t||e)},imports:[[c.c,V,a.a,o.q]]}),e})()}}]);